(this["webpackJsonpcoupon-system"]=this["webpackJsonpcoupon-system"]||[]).push([[0],{108:function(e,t,n){},118:function(e,t,n){},119:function(e,t,n){},120:function(e,t,n){},121:function(e,t,n){},122:function(e,t,n){},123:function(e,t,n){},124:function(e,t,n){},125:function(e,t,n){},126:function(e,t,n){},127:function(e,t,n){},128:function(e,t,n){},129:function(e,t,n){},130:function(e,t,n){},131:function(e,t,n){},132:function(e,t,n){},133:function(e,t,n){},134:function(e,t,n){},135:function(e,t,n){},136:function(e,t,n){},137:function(e,t,n){},138:function(e,t,n){},139:function(e,t,n){},140:function(e,t,n){},141:function(e,t,n){},142:function(e,t,n){},143:function(e,t,n){},163:function(e,t,n){},164:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){"use strict";n.r(t);var c,s=n(1),a=n.n(s),r=n(32),i=n.n(r),o=n(9),l=n(15),d=n(8),j=n(5),u=n.n(j),b=n(11),p=n(4),O=n(19),m=n(16),h=n.n(m);!function(e){e.admin="ADMINISTRATOR",e.company="COMPANY",e.customer="CUSTOMER"}(c||(c={}));var x,v=c,f=n(18),g=function e(){Object(f.a)(this,e),this.companies=[]};function y(e){return{type:x.CompaniesDownloaded,payload:e}}function S(e){return{type:x.CompanyAdded,payload:e}}function N(e){return{type:x.CompanyUpdated,payload:e}}function C(e){return{type:x.CompanyDeleted,payload:e}}!function(e){e.CompaniesDownloaded="CompaniesDownloaded",e.CompanyAdded="CompanyAdded",e.CompanyUpdated="CompanyUpdated",e.CompanyDeleted="CompanyDeleted",e.CompanyDownloaded="CompanyDownloaded"}(x||(x={}));var D,w=n(55),L=function e(){Object(f.a)(this,e),this.client=null;var t=JSON.parse(localStorage.getItem("client"));t&&(this.client=t)};function E(e){return{type:D.SignUp,payload:e}}function T(e){return{type:D.SignUp,payload:e}}function A(e){return{type:D.Login,payload:e}}!function(e){e.SignUp="SignUp",e.Login="Login",e.Logout="Logout"}(D||(D={}));var k,q=function e(){Object(f.a)(this,e),this.coupons=[]};function U(e){return{type:k.CouponsStartDownloaded,payload:e}}!function(e){e.CouponsStartDownloaded="CouponsStartDownloaded",e.CouponStartAdded="CouponStartAdded",e.CouponStartUpdated="CouponStartUpdated",e.CouponStartDeleted="CouponStartDeleted"}(k||(k={}));var I,F=function e(){Object(f.a)(this,e),this.coupons=[]};function P(e){return{type:I.CouponsDownloaded,payload:e}}function M(e){return{type:I.CouponAdded,payload:e}}function _(e){return{type:I.CouponAdded,payload:e}}function R(e){return{type:I.CouponUpdated,payload:e}}function V(e){return{type:I.CouponDeleted,payload:e}}function G(){return{type:I.CouponsCleared}}!function(e){e.CouponsDownloaded="CouponsDownloaded",e.CouponAdded="CouponAdded",e.CouponUpdated="CouponUpdated",e.CouponDeleted="CouponDeleted",e.CouponsCleared="CouponsCleared"}(I||(I={}));var z,$=function e(){Object(f.a)(this,e),this.customers=[]};function B(e){return{type:z.CustomersDownloaded,payload:e}}function Y(e){return{type:z.CustomerAdded,payload:e}}function H(e){return{type:z.CustomerUpdated,payload:e}}function W(e){return{type:z.CustomerDeleted,payload:e}}!function(e){e.CustomersDownloaded="CustomersDownloaded",e.CustomerAdded="CustomerAdded",e.CustomerUpdated="CustomerUpdated",e.CustomerDeleted="CustomerDeleted"}(z||(z={}));var J=Object(w.a)({couponsState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new F,t=arguments.length>1?arguments[1]:void 0,n=Object(d.a)({},e);switch(t.type){case I.CouponsDownloaded:n.coupons=t.payload;break;case I.CouponAdded:n.coupons.push(t.payload);break;case I.CouponUpdated:var c=n.coupons.findIndex((function(e){return e.id===t.payload.id}));n.coupons[c]=t.payload;break;case I.CouponDeleted:n.coupons=n.coupons.filter((function(e){return e.id!==t.payload}));break;case I.CouponsCleared:n.coupons=n.coupons=[]}return n},customersState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new $,t=arguments.length>1?arguments[1]:void 0,n=Object(d.a)({},e);switch(t.type){case z.CustomersDownloaded:n.customers=t.payload;break;case z.CustomerAdded:n.customers.push(t.payload);break;case z.CustomerUpdated:var c=n.customers.findIndex((function(e){return e.id===t.payload.id}));n.customers[c]=t.payload;break;case z.CustomerDeleted:n.customers=n.customers.filter((function(e){return e.id!==t.payload}))}return n},companiesState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new g,t=arguments.length>1?arguments[1]:void 0,n=Object(d.a)({},e);switch(t.type){case x.CompaniesDownloaded:case x.CompanyDownloaded:n.companies=t.payload;break;case x.CompanyAdded:n.companies.push(t.payload);break;case x.CompanyUpdated:var c=n.companies.findIndex((function(e){return e.id===t.payload.id}));n.companies[c]=t.payload;break;case x.CompanyDeleted:n.companies=n.companies.filter((function(e){return e.id!==t.payload}))}return n},authLoginState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new L,t=arguments.length>1?arguments[1]:void 0,n=Object(d.a)({},e);switch(t.type){case D.SignUp:case D.Login:n.client=t.payload,localStorage.setItem("client",JSON.stringify(n.client));break;case D.Logout:n.client=null,localStorage.removeItem("client")}return n},couponsStartState:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new q,t=arguments.length>1?arguments[1]:void 0,n=Object(d.a)({},e);switch(t.type){case k.CouponsStartDownloaded:n.coupons=t.payload;break;case k.CouponStartAdded:case k.CouponStartUpdated:n.coupons.push(t.payload);break;case k.CouponStartDeleted:n.coupons=n.coupons.filter((function(e){return e.id!==t.payload}))}return n}}),Q=Object(w.b)(J),K=n(56),Z=n(54),X=function e(){Object(f.a)(this,e)},ee=new(function(e){Object(K.a)(n,e);var t=Object(Z.a)(n);function n(){var e;Object(f.a)(this,n);for(var c=arguments.length,s=new Array(c),a=0;a<c;a++)s[a]=arguments[a];return(e=t.call.apply(t,[this].concat(s))).urls={coupons:"/coupon/",client:"/client/",company:"/company/",customer:"/customer/",admin:"/admin/"},e}return n}(X)),te=n(34),ne=n.n(te),ce=ne.a.create();ce.interceptors.request.use((function(e){var t;return e.headers={authorization:null===(t=Q.getState().authLoginState.client)||void 0===t?void 0:t.token},e}));var se,ae,re=ce,ie=n(35),oe=n(79);!function(e){e.PURCHASED_COUPON="PURCHASED COUPON",e.ADDED_COMPANY="COMPANY ADDED",e.ADDED_CUSTOMER="CUSTOMER ADDED",e.ADDED_COUPON="COUPON ADDED",e.DOWNLOADED_COMPANIES="ALL COMPANIES FETCHED",e.DOWNLOADED_CUSTOMERS="ALL CUSTOMERS FETCHED",e.DOWNLOADED_COUPONS="ALL COUPONS FETCHED",e.LOGIN_SUCCESS="LOGIN SUCCESSFUL",e.LOGOUT_SUCCESS="LOGOUT SUCCESSFUL",e.UPDATED_SUCCESS="UPDATED SUCCESSFULLY",e.DELETED_SUCCESS="DELETED SUCCESSFULLY",e.REGISTER_SUCCESS="REGISTERED SUCCESSFULLY",e.COMPANY_LOADED="COMPANY LOADED",e.CUSTOMER_LOADED="CUSTOMER LOADED",e.COUPON_LOADED="COUPON LOADED"}(se||(se={})),function(e){e.PLS_LOGIN="PLEASE LOGIN",e.NO_COUPONS="NO COUPONS FOUND",e.NO_CUSTOMERS="NO CUSTOMERS FOUND",e.NO_COMPANIES="NO COMPANIES FOUND",e.COUPON_NOT_FOUND="COUPON NOT FOUND",e.COMPANY_NOT_FOUND="COMPANY NOT FOUND"}(ae||(ae={}));var le=function(){function e(){Object(f.a)(this,e),this.notification=new oe.a({duration:4e3,position:{x:"left",y:"top"}})}return Object(ie.a)(e,[{key:"success",value:function(e){this.notification.success(e)}},{key:"error",value:function(e){var t=this.extractMsg(e);this.notification.error(t)}},{key:"extractMsg",value:function(e){var t,n,c;return"string"===typeof e?e:"string"===typeof(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.data)?e.response.data:Array.isArray(null===e||void 0===e||null===(n=e.response)||void 0===n?void 0:n.data)?null===e||void 0===e||null===(c=e.response)||void 0===c?void 0:c.data[0]:"string"===typeof(null===e||void 0===e?void 0:e.message)?e.message:"Damn, an error occurred, please try again."}}]),e}();le.error=void 0;var de,je=new le,ue=(n(108),n(0)),be=function(e){var t,n,c,a,r,i,j=+e.match.params.id,m=Object(s.useState)(Q.getState().companiesState.companies.find((function(e){return e.id===j}))),x=Object(p.a)(m,2),f=x[0],g=x[1],y=Object(O.a)({mode:"onTouched"}),S=y.register,D=y.handleSubmit,w=y.formState,L=w.errors,E=w.isDirty,T=w.isValid,A=Object(l.g)(),k=Object(s.useState)(Q.getState().companiesState.companies),q=Object(p.a)(k,2),U=(q[0],q[1]),I=Object(s.useState)(!0),F=Object(p.a)(I,2),P=F[0],M=F[1],_=Object(s.useState)(null===f||void 0===f?void 0:f.name),R=Object(p.a)(_,2),V=R[0],G=R[1],z=Object(s.useState)(null===f||void 0===f?void 0:f.email),$=Object(p.a)(z,2),B=$[0],Y=$[1],H=Object(s.useState)(null===f||void 0===f?void 0:f.password),W=Object(p.a)(H,2),J=W[0],K=W[1],Z=function(){var e=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.id=j,e.next=4,re.put(ee.urls.admin+"company",t);case 4:n=e.sent,Q.dispatch(N(n.data)),g(n.data),je.success(se.UPDATED_SUCCESS),A.push("/admin/companies"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),je.error(e.t0.message);case 14:case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),X=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(f),e.abrupt("return",f);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){var e;(null===(e=Q.getState().authLoginState.client)||void 0===e?void 0:e.clientType)!==v.admin&&(je.error(ae.PLS_LOGIN),A.push("/login"));try{X()}catch(t){je.error(t.message)}return Q.subscribe((function(){U(Q.getState().companiesState.companies)}))}));var te=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete id="+j+"?")){e.next=14;break}return e.prev=2,e.next=5,re.delete(ee.urls.admin+"company/"+j);case 5:Q.dispatch(C(j)),je.success(se.DELETED_SUCCESS),A.push("/admin/companies"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),je.error(e.t0.message);case 13:case 14:case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),ne=function(e){return G(e.target.value),V},ce=function(e){return Y(e.target.value),B},ie=function(e){return K(e.target.value),J};return Object(ue.jsx)("div",{className:"AdminCompanyDetails cardD ",children:f&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("h2",{id:"niceTitle",children:"Details"}),Object(ue.jsxs)("form",{onSubmit:D(Z),children:[Object(ue.jsx)(h.a,{type:"button",onClick:function(){return M(!1)},children:"\u270f\ufe0f"})," ",Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"ID"}),Object(ue.jsx)("input",Object(d.a)({type:"text",disabled:!0,className:"form-control",name:"id",defaultValue:null===f||void 0===f?void 0:f.id},S("id",{required:!0}))),"  ",Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"Name"}),Object(ue.jsx)("input",Object(d.a)({className:"form-control",type:"text",disabled:P,name:"name",defaultValue:null===f||void 0===f?void 0:f.name,onChange:function(){return ne}},S("name",{required:!0,minLength:2}))),"required"===(null===(t=L.name)||void 0===t?void 0:t.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing name"}),"minLength"===(null===(n=L.name)||void 0===n?void 0:n.type)&&Object(ue.jsx)("span",{id:"errors",children:"Name is too short"}),Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"Email"}),Object(ue.jsx)("input",Object(d.a)({className:"form-control",type:"email",disabled:P,name:"email",defaultValue:null===f||void 0===f?void 0:f.email,onChange:function(){return ce}},S("email",{required:!0,minLength:9}))),"required"===(null===(c=L.email)||void 0===c?void 0:c.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing email"}),"minLength"===(null===(a=L.email)||void 0===a?void 0:a.type)&&Object(ue.jsx)("span",{id:"errors",children:"Email is too short"}),Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"Password"}),Object(ue.jsx)("input",Object(d.a)({className:"form-control",type:"password",disabled:P,name:"password",defaultValue:null===f||void 0===f?void 0:f.password,onChange:function(){return ie}},S("password",{required:!0,minLength:4}))),"required"===(null===(r=L.password)||void 0===r?void 0:r.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing password"}),"minLength"===(null===(i=L.password)||void 0===i?void 0:i.type)&&Object(ue.jsx)("span",{id:"errors",children:"  Password is too short"}),Object(ue.jsx)("br",{}),Object(ue.jsx)(h.a,{type:"submit",size:"lg",disabled:!E||!T,children:"\u2714\ufe0f"}),Object(ue.jsx)(h.a,{onClick:function(){return te()},size:"lg",children:" \ud83d\uddd1\ufe0f"})]}),Object(ue.jsx)(o.c,{to:"/admin/companies",children:Object(ue.jsx)(h.a,{children:Object(ue.jsx)("i",{className:"tim-icons icon-double-left"})})})]})})},pe=n(81),Oe=n(82),me=n.n(Oe);!function(e){e.food="FOOD",e.electronics="ELECTRONICS",e.restaurant="RESTAURANT",e.vacation="VACATION",e.lifeStyle="LIFE_STYLE"}(de||(de={}));var he=de,xe=(n(118),function(e){var t,n,c,a,r,i,j,m,h,x=+e.match.params.id,f=Object(O.a)({mode:"onTouched"}),g=f.register,y=f.handleSubmit,S=f.formState.errors,N=Object(s.useState)(Q.getState().couponsState.coupons.find((function(e){return e.id===x}))),C=Object(p.a)(N,2),D=C[0],w=C[1],L=Object(s.useState)(Q.getState().couponsState.coupons),E=Object(p.a)(L,2),T=(E[0],E[1]),A=Object(s.useState)(Q.getState().authLoginState.client),k=Object(p.a)(A,2),q=k[0],U=(k[1],Object(l.g)()),I=Object(s.useState)(!0),F=Object(p.a)(I,2),P=F[0],M=F[1],_=Object(s.useState)(null===D||void 0===D?void 0:D.amount),G=Object(p.a)(_,2),z=G[0],$=G[1],B=Object(s.useState)(null===D||void 0===D?void 0:D.categoryType),Y=Object(p.a)(B,2),H=Y[0],W=Y[1],J=Object(s.useState)(null===D||void 0===D?void 0:D.description),K=Object(p.a)(J,2),Z=K[0],X=K[1],te=Object(s.useState)(null===D||void 0===D?void 0:D.startDate),ne=Object(p.a)(te,2),ce=ne[0],ie=ne[1],oe=Object(s.useState)(null===D||void 0===D?void 0:D.endDate),le=Object(p.a)(oe,2),de=le[0],be=le[1],Oe=Object(s.useState)(null===D||void 0===D?void 0:D.price),xe=Object(p.a)(Oe,2),ve=xe[0],fe=xe[1],ge=Object(s.useState)(null===D||void 0===D?void 0:D.title),ye=Object(p.a)(ge,2),Se=ye[0],Ne=ye[1],Ce=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return w(D),e.abrupt("return",D);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.id=x,t.companyId=null===q||void 0===q?void 0:q.clientId,e.next=5,re.put(ee.urls.company+"coupon",t);case 5:n=e.sent,Q.dispatch(R(n.data)),w(n.data),je.success(se.UPDATED_SUCCESS),U.push("/company/coupons"),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),je.error(e.t0.message);case 15:case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),we=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete id="+x+"?")){e.next=14;break}return e.prev=2,e.next=5,re.delete(ee.urls.company+"coupon/"+x);case 5:Q.dispatch(V(x)),je.success(se.DELETED_SUCCESS),U.push("/company/coupons"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),je.error(e.t0.message);case 13:case 14:case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){var e;(null===(e=Q.getState().authLoginState.client)||void 0===e?void 0:e.clientType)!==v.company&&(je.error(ae.PLS_LOGIN),U.push("/login"));try{Ce()}catch(t){je.error(t)}return Q.subscribe((function(){T(Q.getState().couponsState.coupons)}))}));var Le=function(e){return X(e.target.value),Z},Ee=function(e){return $(e.target.value),z},Te=function(e){return W(e.target.value),H},Ae=function(e){return be(e.target.value),de},ke=function(e){return ie(e.target.value),ce},qe=function(e){return fe(e.target.value),ve},Ue=function(e){return Ne(e.target.value),Se};return Object(ue.jsx)("div",{className:"CompanyCouponDetails cardD",children:D&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("h1",{id:"niceTitle",children:"Details"}),Object(ue.jsxs)("form",{onSubmit:y(De),children:[Object(ue.jsx)(pe.a,{type:"button",onClick:function(){return M(!1)},children:"\u270f\ufe0f"}),Object(ue.jsx)("br",{}),Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"ID"}),Object(ue.jsx)("input",Object(d.a)({className:"form-control",type:"number",disabled:!0,name:"id",defaultValue:null===D||void 0===D?void 0:D.id},g("id",{required:!0})))," ",Object(ue.jsx)("br",{}),Object(ue.jsx)("img",{src:ee.urls.company+"images/"+(null===D||void 0===D?void 0:D.id),alt:D.title}),Object(ue.jsx)("br",{}),Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"CompanyId"}),Object(ue.jsx)("input",Object(d.a)({className:"form-control",disabled:!0,type:"number",name:"companyId",value:null===q||void 0===q?void 0:q.clientId},g("companyId"))),Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"Amount"}),Object(ue.jsx)("input",Object(d.a)({className:"form-control",disabled:P,onChange:function(){return Ee},type:"number",name:"amount",step:"1",defaultValue:null===D||void 0===D?void 0:D.amount},g("amount",{required:{value:!0,message:"Missing Amount"},min:{value:0,message:"Amount must be greater than zero"}}))),Object(ue.jsx)("br",{}),Object(ue.jsx)("span",{id:"errors",children:null===(t=S.amount)||void 0===t?void 0:t.message}),Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"Category"}),Object(ue.jsxs)(me.a,Object(d.a)(Object(d.a)({type:"select",className:"form-control",onChange:function(){return Te},disabled:P,defaultValue:null===D||void 0===D?void 0:D.categoryType},g("categoryType",{required:{value:!1,message:"you must choose a category"}})),{},{children:[Object(ue.jsx)("option",{defaultValue:"",hidden:!0,children:"Choose here"}),Object(ue.jsx)("option",{id:"dark1",value:he.food,children:"FOOD"}),Object(ue.jsx)("option",{id:"dark1",value:he.electronics,children:"ELECTRONICS"}),Object(ue.jsx)("option",{id:"dark1",value:he.restaurant,children:"RESTAURANT"}),Object(ue.jsx)("option",{id:"dark1",value:he.vacation,children:"VACATION"}),Object(ue.jsx)("option",{id:"dark1",value:he.lifeStyle,children:"LIFE STYLE"})]})),Object(ue.jsx)("br",{}),Object(ue.jsx)("span",{id:"errors",children:null===(n=S.categoryType)||void 0===n?void 0:n.message}),Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"Description"}),Object(ue.jsx)("input",Object(d.a)({className:"form-control",onChange:function(){return Le},type:"text",name:"description",disabled:P,defaultValue:null===D||void 0===D?void 0:D.description},g("description",{required:!0,minLength:10}))),Object(ue.jsx)("br",{}),"required"===(null===(c=S.description)||void 0===c?void 0:c.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing description"}),"minLength"===(null===(a=S.description)||void 0===a?void 0:a.type)&&Object(ue.jsx)("span",{id:"errors",children:"Description is too short"}),Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"Start-Date"}),Object(ue.jsx)("input",Object(d.a)({className:"form-control",onChange:function(){return ke},type:"date",name:"startDate",disabled:P,defaultValue:null===D||void 0===D?void 0:D.startDate},g("startDate",{required:{value:!0,message:"you must choose a starting date"}}))),Object(ue.jsx)("br",{}),Object(ue.jsx)("span",{id:"errors",children:null===(r=S.startDate)||void 0===r?void 0:r.message}),Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"End-Date"}),Object(ue.jsx)("input",Object(d.a)({className:"form-control",onChange:function(){return Ae},type:"date",disabled:P,name:"endDate",defaultValue:null===D||void 0===D?void 0:D.endDate},g("endDate",{required:{value:!0,message:"you must choose an expiration date"}}))),Object(ue.jsx)("br",{}),Object(ue.jsx)("span",{id:"errors",children:null===(i=S.endDate)||void 0===i?void 0:i.message}),Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"Price"}),Object(ue.jsx)("input",Object(d.a)({className:"form-control",onChange:function(){return qe},type:"number",name:"price",step:"0.1",disabled:P,defaultValue:null===D||void 0===D?void 0:D.price},g("price",{required:{value:!0,message:"Missing price"},min:{value:0,message:"Price must be greater than zero"}}))),Object(ue.jsx)("br",{}),Object(ue.jsx)("span",{id:"errors",children:null===(j=S.price)||void 0===j?void 0:j.message}),Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"Title"}),Object(ue.jsx)("input",Object(d.a)({className:"form-control",onChange:function(){return Ue},type:"text",name:"title",disabled:P,defaultValue:null===D||void 0===D?void 0:D.title},g("title",{required:!0,minLength:2}))),Object(ue.jsx)("br",{}),"required"===(null===(m=S.title)||void 0===m?void 0:m.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing title"}),"minLength"===(null===(h=S.title)||void 0===h?void 0:h.type)&&Object(ue.jsx)("span",{id:"errors",children:"Title is too short"}),Object(ue.jsx)("br",{}),Object(ue.jsx)("br",{}),Object(ue.jsx)(pe.a,{type:"submit",size:"lg",disabled:P,children:"\u2714\ufe0f"}),Object(ue.jsx)(pe.a,{onClick:function(){return we()},size:"lg",children:" \ud83d\uddd1\ufe0f"})]}),Object(ue.jsx)(o.c,{to:"/company/coupons",children:Object(ue.jsx)(pe.a,{children:Object(ue.jsx)("i",{className:"tim-icons icon-double-left"})})})]})})}),ve=(n(119),n(7)),fe=n.n(ve),ge=(n(31),n(169)),ye=n(170),Se=n(171),Ne=n(172),Ce=n(173),De=n(174),we=n(175),Le=n(176),Ee=n(177),Te=n(178),Ae=n(179),ke=n(83),qe=n(180),Ue=n(181),Ie=n(182),Fe=n(183);var Pe=function(){var e,t,c,s,r,i=a.a.useState(!1),j=Object(p.a)(i,2),m=j[0],h=j[1],x=a.a.useState(!1),f=Object(p.a)(x,2),g=f[0],y=f[1],S=Object(O.a)({mode:"onTouched"}),N=S.register,C=S.handleSubmit,D=S.formState,w=D.errors,L=D.isDirty,E=D.isValid,T=Object(l.g)();function k(){return(k=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.post(ee.urls.client+"login",t);case 3:n=e.sent,Q.dispatch(A(n.data)),je.success(se.LOGIN_SUCCESS),n.data.clientType===v.company&&T.push("/company"),n.data.clientType===v.customer&&T.push("/customer"),n.data.clientType===v.admin&&T.push("/admin"),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),je.error(e.t0);case 17:case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}return Object(ue.jsx)("div",{className:"Login section section-signup",children:Object(ue.jsxs)(ge.a,{children:[Object(ue.jsx)("div",{className:"squares square-1"}),Object(ue.jsx)("div",{className:"squares square-2"}),Object(ue.jsx)("div",{className:"squares square-3"}),Object(ue.jsx)("div",{className:"squares square-4"}),Object(ue.jsx)(ye.a,{className:"row-grid justify-content-between align-items-center",children:Object(ue.jsx)(Se.a,{className:"mb-lg-auto",lg:"6",children:Object(ue.jsxs)(Ne.a,{className:"card-register",children:[Object(ue.jsxs)(Ce.a,{children:[Object(ue.jsx)(De.a,{alt:"...",src:n(36).default}),Object(ue.jsxs)(we.a,{tag:"h4",children:[" ","Login"]})]}),Object(ue.jsx)(Le.a,{children:Object(ue.jsxs)(Ee.a,{className:"form",onSubmit:C((function(e){return k.apply(this,arguments)})),children:[Object(ue.jsxs)(Te.a,{className:fe()({"input-group-focus":m}),children:[Object(ue.jsx)(Ae.a,{addonType:"prepend",children:Object(ue.jsx)(ke.a,{children:Object(ue.jsx)("i",{className:"tim-icons icon-email-85"})})}),Object(ue.jsx)(qe.a,Object(d.a)({name:"email",placeholder:"Email",type:"email",onFocus:function(e){return h(!0)},onBlur:function(e){return h(!1)}},N("email",{required:!0,minLength:9}))),"required"===(null===(e=w.email)||void 0===e?void 0:e.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing email"}),"minLength"===(null===(t=w.email)||void 0===t?void 0:t.type)&&Object(ue.jsx)("span",{id:"errors",children:"Email is too short"})]}),Object(ue.jsxs)(Te.a,{className:fe()({"input-group-focus":m}),children:[Object(ue.jsx)(Ae.a,{addonType:"prepend",children:Object(ue.jsx)(ke.a,{children:Object(ue.jsx)("i",{className:"tim-icons icon-lock-circle"})})}),Object(ue.jsx)(qe.a,Object(d.a)({name:"password",placeholder:"Password",type:"password",onFocus:function(e){return y(!0)},onBlur:function(e){return y(!1)}},N("password",{required:!0,minLength:4}))),Object(ue.jsx)("br",{}),"required"===(null===(c=w.password)||void 0===c?void 0:c.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing password"}),"minLength"===(null===(s=w.password)||void 0===s?void 0:s.type)&&Object(ue.jsx)("span",{id:"errors",children:"Password is too short"}),Object(ue.jsx)("br",{})]}),Object(ue.jsxs)(Te.a,{className:fe()({"input-group-focus":g}),children:[Object(ue.jsx)(Ae.a,{addonType:"prepend",children:Object(ue.jsx)(ke.a,{})}),Object(ue.jsxs)(qe.a,Object(d.a)(Object(d.a)({name:"clientType",placeholder:"clientType",type:"select",id:"exampleSelect1"},N("clientType",{required:{value:!0,message:"you must choose a clientType"}})),{},{children:[Object(ue.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Choose here"}),Object(ue.jsx)("option",{id:"dark1",value:v.admin,children:"ADMIN"}),Object(ue.jsx)("option",{id:"dark1",value:v.company,children:"COMPANY"}),Object(ue.jsx)("option",{id:"dark1",value:v.customer,children:"CUSTOMER"})]})),Object(ue.jsx)("br",{}),Object(ue.jsx)("span",{id:"errors",children:null===(r=w.clientType)||void 0===r?void 0:r.message}),Object(ue.jsx)("br",{})]}),Object(ue.jsx)(Ue.a,{check:!0,className:"text-left",children:Object(ue.jsxs)(Ie.a,{check:!0,children:[Object(ue.jsx)(qe.a,{type:"checkbox",required:!0}),Object(ue.jsx)("span",{className:"form-check-sign"}),"I agree to the"," ",Object(ue.jsx)(o.c,{to:"/terms",exact:!0,children:"terms and conditions"}),"."]})}),Object(ue.jsxs)(Fe.a,{children:[Object(ue.jsx)(pe.a,{type:"submit",className:"btn-round",color:"primary",size:"lg",disabled:!L||!E,children:"\u2714\ufe0f"}),Object(ue.jsx)(pe.a,{className:"btn-round",color:"primary",size:"lg",onClick:function(){T.push("/home")},children:"\u2716\ufe0f"})]})]})})]})})})]})})};var Me=function(){var e=Object(l.g)(),t=function(){var t=Object(b.a)(u.a.mark((function t(){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,re.delete(ee.urls.client+"logout");case 2:Q.dispatch({type:D.Logout}),e.push("/home"),je.success(se.LOGOUT_SUCCESS);case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(s.useEffect)((function(){Q.dispatch(G());try{t()}catch(e){je.error(e.message)}})),Object(ue.jsx)(ue.Fragment,{})};n(120);var _e=function(){return Object(ue.jsxs)("div",{className:"Page404",children:[Object(ue.jsx)("h1",{id:"niceTitle2",children:"Page not found "}),Object(ue.jsx)("iframe",{title:"PageNotFound",src:"https://giphy.com/embed/6zvDSUtuMqp3O",width:"480",height:"480",frameBorder:"0",className:"giphy-embed",allowFullScreen:!0}),Object(ue.jsx)("p",{})]})};n(121);var Re=function(){var e=Object(s.useState)(Q.getState().authLoginState.client),t=Object(p.a)(e,2),n=t[0],c=(t[1],Object(s.useState)(null)),a=Object(p.a)(c,2),r=(a[0],a[1]);return Object(s.useEffect)((function(){return Q.subscribe((function(){r(Q.getState().couponsStartState.coupons)}))})),Object(ue.jsxs)("div",{className:"Home",children:[Object(ue.jsxs)("div",{children:[Object(ue.jsx)("img",{className:"imgHome",src:"https://c.tenor.com/8McIGu0Tf_QAAAAj/fire-joypixels.gif",alt:""}),Object(ue.jsx)("br",{}),Object(ue.jsx)("br",{}),Object(ue.jsx)("h3",{children:"  In Click 'N' Save you'll find the hottest discounts"}),!n&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("span",{id:"white",children:"For more info and purchase Sign up or Login"})," ",Object(ue.jsx)("br",{})," ",Object(ue.jsx)("br",{})]})]}),!n&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(o.c,{to:"/signup",children:Object(ue.jsx)(h.a,{color:"primary",size:"small",children:Object(ue.jsx)("span",{id:"grey",children:"SignUp"})})}),Object(ue.jsxs)(o.c,{to:"/login",children:[" ",Object(ue.jsx)(h.a,{color:"primary",size:"small",children:Object(ue.jsx)("span",{id:"grey",children:"SignIn"})})," "]}),Object(ue.jsx)("br",{})]}),Object(ue.jsx)("br",{}),Object(ue.jsxs)("span",{children:["Follow the link bellow to se all coupons ",Object(ue.jsx)("br",{})]})," ",Object(ue.jsx)("br",{}),Object(ue.jsx)(o.c,{id:"info",to:"/coupons",exact:!0,children:Object(ue.jsx)(h.a,{children:"See All"})}),Object(ue.jsx)("br",{}),Object(ue.jsx)("br",{}),Object(ue.jsx)("div",{})]})},Ve=(n(122),function(e){return Object(ue.jsxs)("div",{className:"EmptyView",children:[Object(ue.jsx)("h2",{id:"niceTitle2",children:e.msg}),Object(ue.jsx)("img",{alt:"empty view",src:"https://media.giphy.com/media/xUySTWxyhBQCk41ZAs/giphy.gif"})]})}),Ge=(n(123),function(){var e=Object(s.useState)(""),t=Object(p.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)([]),r=Object(p.a)(a,2),i=r[0],l=r[1],d=Object(s.useState)(Q.getState().couponsStartState.coupons),j=Object(p.a)(d,2),O=j[0],m=j[1],h=Object(s.useState)(Q.getState().couponsState.coupons.length),x=Object(p.a)(h,2),v=(x[0],x[1]),f=function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Q.getState().couponsStartState.coupons.length){e.next=14;break}return e.next=3,ne.a.get(ee.urls.coupons+"coupons");case 3:if(t=e.sent,Q.dispatch(U(t.data)),0===t.data.length){e.next=11;break}return m(t.data),je.success(se.DOWNLOADED_COUPONS),e.abrupt("return",t.data);case 11:return je.error(ae.NO_COUPONS),e.abrupt("return",0);case 13:case 14:case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){try{f()}catch(e){je.error(e)}return Q.subscribe((function(){v(Q.getState().couponsStartState.coupons.length)}))})),Object(s.useEffect)((function(){l(O.filter((function(e){return e.title.toLowerCase().includes(n.toLowerCase())})))}),[n,O]),Object(ue.jsxs)("div",{className:"CouponCards",children:[Object(ue.jsx)("h1",{id:"niceTitle",children:" Coupons"}),0===Q.getState().couponsStartState.coupons.length&&Object(ue.jsx)(Ve,{msg:"Loading coupons!"}),Object(ue.jsx)("br",{}),Object(ue.jsx)("div",{className:"shortWidth",children:Object(ue.jsx)(qe.a,{type:"text",placeholder:"Search...",spellCheck:!1,onChange:function(e){return c(e.target.value)}})}),0!==Q.getState().couponsStartState.coupons.length&&Object(ue.jsx)("ul",{children:i.map((function(e){return Object(ue.jsx)("li",{children:Object(ue.jsx)(o.c,{to:"/coupons/details/"+(null===e||void 0===e?void 0:e.id),children:Object(ue.jsxs)("div",{className:"details",children:[Object(ue.jsxs)("h2",{children:[" ",e.title]}),Object(ue.jsxs)("p",{children:[" ",e.price,"$"]}),Object(ue.jsxs)("p",{children:[" ",e.price,"$"]}),Object(ue.jsx)("img",{src:ee.urls.company+"images/"+(null===e||void 0===e?void 0:e.id),alt:e.title}),Object(ue.jsx)("img",{src:ee.urls.company+"images/"+(null===e||void 0===e?void 0:e.id),alt:e.title})]})})},null===e||void 0===e?void 0:e.id)}))})]})}),ze=(n(124),function(e){var t=+e.match.params.id,n=Object(s.useState)(Q.getState().couponsStartState.coupons.find((function(e){return e.id===t}))),c=Object(p.a)(n,2),a=c[0],r=(c[1],Object(l.g)()),i=Object(s.useState)(!0),d=Object(p.a)(i,2),j=d[0],O=d[1],m=function(){var e=Object(b.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(null===(n=Q.getState().authLoginState.client)||void 0===n?void 0:n.clientType)===v.customer&&null!==Q.getState().authLoginState.client||(r.push("/login"),je.error(ae.PLS_LOGIN)),e.prev=2,e.next=5,re.post(ee.urls.customer+"purchase",t);case 5:c=e.sent,Q.dispatch(_(c.data)),r.push("/customer/coupons"),je.success(se.PURCHASED_COUPON),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),je.error(e.t0.message);case 14:case 15:case"end":return e.stop()}}),e,null,[[2,11]])})));return function(t){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e;(null===(e=Q.getState().authLoginState.client)||void 0===e?void 0:e.clientType)===v.customer&&O(!1)}),[j]),Object(ue.jsx)("div",{className:"CouponDetails ",children:a&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("h1",{id:"niceTitle",children:"Details"}),Object(ue.jsx)("div",{className:"flip-card",children:Object(ue.jsxs)("div",{className:"flip-card-inner",children:[Object(ue.jsx)("div",{className:"flip-card-front ",children:Object(ue.jsx)("img",{className:"myImage",src:ee.urls.company+"images/"+(null===a||void 0===a?void 0:a.id),alt:a.title})}),Object(ue.jsxs)("div",{className:"flip-card-back",children:[Object(ue.jsx)("h1",{id:"niceTitle2",children:a.title}),Object(ue.jsx)("h2",{id:"infovalue",children:a.description}),Object(ue.jsxs)("span",{id:"info",children:["Category:",Object(ue.jsx)("span",{id:"infoval",children:a.categoryType})]})," ",Object(ue.jsx)("br",{}),Object(ue.jsxs)("span",{id:"info",children:["Price:",Object(ue.jsxs)("span",{id:"infoval",children:[a.price,"$"]})]})," ",Object(ue.jsx)("br",{}),Object(ue.jsxs)("span",{id:"info",children:["Expiration:",Object(ue.jsx)("span",{id:"infoval",children:a.endDate})]})," ",Object(ue.jsx)("br",{}),Object(ue.jsxs)("span",{id:"info",children:["Amount :",Object(ue.jsx)("span",{id:"infoval",children:a.amount})]})," ",Object(ue.jsx)("br",{}),Object(ue.jsxs)("span",{id:"info",children:["amount:",Object(ue.jsx)("span",{id:"infoval",children:a.amount})]})," ",Object(ue.jsx)("br",{})]})]})}),Object(ue.jsx)("br",{}),Object(ue.jsx)(pe.a,{disabled:j,color:"simple",onClick:function(){return m(a)},children:"\ud83d\uded2"}),Object(ue.jsx)(o.c,{to:"/coupons",children:Object(ue.jsx)(pe.a,{children:Object(ue.jsx)("i",{className:"tim-icons icon-double-left"})})})]})})});n(125);var $e=function(){var e,t,n,c,a,r,i,j,m,h=Object(O.a)({mode:"onTouched"}),x=h.register,f=h.handleSubmit,g=h.formState,y=g.errors,S=g.isDirty,N=g.isValid,C=Object(s.useState)(Q.getState().authLoginState.client),D=Object(p.a)(C,2),w=D[0],L=(D[1],Object(s.useState)(Q.getState().couponsState.coupons.length)),E=Object(p.a)(L,2),T=(E[0],E[1]),A=Object(s.useState)(null),k=Object(p.a)(A,2),q=(k[0],k[1]),U=Object(l.g)();function I(){return(I=Object(b.a)(u.a.mark((function e(t){var n,c,s;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new FormData).append("companyId",t.companyId.toString()),n.append("title",t.title),n.append("amount",t.amount.toString()),n.append("categoryType",t.categoryType),n.append("description",t.description),n.append("startDate",t.startDate.toString()),n.append("endDate",t.endDate.toString()),n.append("price",t.price.toString()),n.append("image",t.image.item(0)),e.next=13,re.post(ee.urls.company+"coupon",n);case 13:c=e.sent,s=c.data,Q.dispatch(M(s)),q(c.data),je.success(se.ADDED_COUPON),U.push("/company/coupons"),e.next=24;break;case 21:e.prev=21,e.t0=e.catch(0),je.error(e.t0.message);case 24:case 25:case"end":return e.stop()}}),e,null,[[0,21]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){var e;return(null===(e=Q.getState().authLoginState.client)||void 0===e?void 0:e.clientType)!==v.company&&(je.error(ae.PLS_LOGIN),U.push("/login")),Q.subscribe((function(){T(Q.getState().couponsState.coupons.length)}))})),Object(ue.jsxs)("div",{className:"AddCoupon cardD",children:[Object(ue.jsx)("h1",{id:"niceTitle",children:"Add Coupon"}),Object(ue.jsxs)("form",{onSubmit:f((function(e){return I.apply(this,arguments)})),children:[Object(ue.jsx)("label",{children:"CompanyId"}),Object(ue.jsx)("input",Object(d.a)({className:"form-control",type:"number",name:"companyId",defaultValue:w.clientId},x("companyId"))),Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"Amount"}),Object(ue.jsx)("input",Object(d.a)({className:"form-control",type:"number",name:"amount",step:"1"},x("amount",{required:{value:!0,message:"Missing Amount"},min:{value:0,message:"Amount must be greater than zero"}}))),Object(ue.jsx)("br",{}),Object(ue.jsx)("span",{id:"errors",children:null===(e=y.amount)||void 0===e?void 0:e.message}),Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"Category"}),Object(ue.jsxs)(qe.a,Object(d.a)(Object(d.a)({id:"exampleSelect1",type:"select",defaultValue:he.food,className:"form-control"},x("categoryType",{required:{value:!0,message:"you must choose a category"}})),{},{children:[Object(ue.jsx)("option",{defaultValue:"",disabled:!0,hidden:!0,children:"Choose here"}),Object(ue.jsx)("option",{id:"dark1",value:he.food,children:"FOOD"}),Object(ue.jsx)("option",{id:"dark1",value:he.electronics,children:"ELECTRONICS"}),Object(ue.jsx)("option",{id:"dark1",value:he.restaurant,children:"RESTAURANT"}),Object(ue.jsx)("option",{id:"dark1",value:he.vacation,children:"VACATION"}),Object(ue.jsx)("option",{id:"dark1",value:he.lifeStyle,children:"LIFE STYLE"})]})),Object(ue.jsx)("br",{}),Object(ue.jsx)("span",{id:"errors",children:null===(t=y.categoryType)||void 0===t?void 0:t.message}),Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"Description"}),Object(ue.jsx)("input",Object(d.a)({className:"form-control",type:"text",name:"description"},x("description",{required:!0,minLength:10}))),Object(ue.jsx)("br",{}),"required"===(null===(n=y.description)||void 0===n?void 0:n.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing description"}),"minLength"===(null===(c=y.description)||void 0===c?void 0:c.type)&&Object(ue.jsx)("span",{id:"errors",children:"Description is too short"}),Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"Start-Date"}),Object(ue.jsx)("input",Object(d.a)({className:"form-control",type:"date",name:"startDate"},x("startDate",{required:{value:!0,message:"you must choose a starting date"}}))),Object(ue.jsx)("br",{}),Object(ue.jsx)("span",{id:"errors",children:null===(a=y.startDate)||void 0===a?void 0:a.message}),Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{className:"label-control",children:"End-Date"}),Object(ue.jsx)("input",Object(d.a)({type:"date",className:"form-control datepicker",name:"endDate"},x("endDate",{required:{value:!0,message:"you must choose an expiration date"}}))),Object(ue.jsx)("br",{}),Object(ue.jsx)("span",{id:"errors",children:null===(r=y.endDate)||void 0===r?void 0:r.message}),Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"Price"}),Object(ue.jsx)("input",Object(d.a)({className:"form-control",type:"number",name:"price",step:"0.01"},x("price",{required:{value:!0,message:"Missing price"},min:{value:0,message:"Price must be greater than zero"}}))),Object(ue.jsx)("br",{}),Object(ue.jsx)("span",{id:"errors",children:null===(i=y.price)||void 0===i?void 0:i.message}),Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"Title"}),Object(ue.jsx)("input",Object(d.a)({className:"form-control",type:"text",name:"title"},x("title",{required:!0,minLength:2}))),Object(ue.jsx)("br",{}),"required"===(null===(j=y.title)||void 0===j?void 0:j.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing title"}),"minLength"===(null===(m=y.title)||void 0===m?void 0:m.type)&&Object(ue.jsx)("span",{id:"errors",children:"Title is too short"}),Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"Image"}),Object(ue.jsx)("input",Object(d.a)({className:"form-control",type:"file",name:"image",accept:"image/*"},x("image",{required:!0}))),Object(ue.jsx)("br",{}),y.image&&Object(ue.jsx)("span",{id:"errors",children:"Missing image"}),Object(ue.jsx)("br",{}),Object(ue.jsx)("br",{}),Object(ue.jsxs)(o.c,{to:"/company/coupons",children:[" ",Object(ue.jsx)(pe.a,{color:"danger",children:"\u2716\ufe0f"})]}),Object(ue.jsx)(pe.a,{color:"success",variant:"contained",type:"submit",disabled:!S||!N,children:" \u2714\ufe0f"})]})]})};n(126);var Be=function(){var e,t,c,a,r,i,j=Object(O.a)({mode:"onTouched"}),m=j.register,h=j.handleSubmit,x=j.formState,f=x.errors,g=x.isDirty,y=x.isValid,N=Object(s.useState)(!1),C=Object(p.a)(N,2),D=C[0],w=C[1],L=Object(s.useState)(!1),E=Object(p.a)(L,2),T=E[0],A=E[1],k=Object(s.useState)(!1),q=Object(p.a)(k,2),U=q[0],I=q[1],F=Object(s.useState)(Q.getState().companiesState.companies),P=Object(p.a)(F,2),M=(P[0],P[1]),_=Object(l.g)();function R(){return(R=Object(b.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new FormData).append("name",t.name),n.append("email",t.email),n.append("password",t.password),e.next=7,re.post(ee.urls.admin+"company",n);case 7:c=e.sent,Q.dispatch(S(c.data)),_.push("/admin/companies"),je.success(se.ADDED_COMPANY),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),je.error(e.t0.message);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){var e;(null===(e=Q.getState().authLoginState.client)||void 0===e?void 0:e.clientType)!==v.admin&&(je.error(ae.PLS_LOGIN),_.push("/login"));var t=Q.subscribe((function(){return M(Q.getState().companiesState.companies),t}))})),Object(ue.jsx)("div",{className:"AddCompany section section-signup",children:Object(ue.jsxs)(ge.a,{children:[Object(ue.jsx)("div",{className:"squares square-1"}),Object(ue.jsx)("div",{className:"squares square-2"}),Object(ue.jsx)("div",{className:"squares square-3"}),Object(ue.jsx)("div",{className:"squares square-4"}),Object(ue.jsx)(ye.a,{className:"row-grid justify-content-between align-items-center",children:Object(ue.jsx)(Se.a,{className:"mb-lg-auto",lg:"6",children:Object(ue.jsxs)(Ne.a,{className:"card-register",children:[Object(ue.jsxs)(Ce.a,{children:[Object(ue.jsx)(De.a,{alt:"...",src:n(36).default}),Object(ue.jsxs)(we.a,{tag:"h4",children:["  "," Add"]})]}),Object(ue.jsx)(Le.a,{children:Object(ue.jsxs)(Ee.a,{className:"form",onSubmit:h((function(e){return R.apply(this,arguments)})),children:[Object(ue.jsxs)(Te.a,{className:fe()({"input-group-focus":D}),children:[Object(ue.jsx)(Ae.a,{addonType:"prepend",children:Object(ue.jsx)(ke.a,{children:Object(ue.jsx)("i",{className:"tim-icons icon-single-02"})})}),Object(ue.jsx)(qe.a,Object(d.a)({className:"form-control",name:"name",placeholder:"Name",type:"text",onFocus:function(e){return w(!0)},onBlur:function(e){return w(!1)}},m("name",{required:!0,minLength:2}))),Object(ue.jsx)("br",{}),"required"===(null===(e=f.name)||void 0===e?void 0:e.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing name"}),"minLength"===(null===(t=f.name)||void 0===t?void 0:t.type)&&Object(ue.jsx)("span",{id:"errors",children:"Name is too short"}),Object(ue.jsx)("br",{})]}),Object(ue.jsxs)(Te.a,{className:fe()({"input-group-focus":T}),children:[Object(ue.jsx)(Ae.a,{addonType:"prepend",children:Object(ue.jsx)(ke.a,{children:Object(ue.jsx)("i",{className:"tim-icons icon-email-85"})})}),Object(ue.jsx)(qe.a,Object(d.a)({className:"form-control",name:"email",placeholder:"Email",type:"email",onFocus:function(e){return A(!0)},onBlur:function(e){return A(!1)}},m("email",{required:!0,minLength:9}))),"required"===(null===(c=f.email)||void 0===c?void 0:c.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing email"}),"minLength"===(null===(a=f.email)||void 0===a?void 0:a.type)&&Object(ue.jsx)("span",{id:"errors",children:"Email is too short"})]}),Object(ue.jsxs)(Te.a,{className:fe()({"input-group-focus":U}),children:[Object(ue.jsx)(Ae.a,{addonType:"prepend",children:Object(ue.jsx)(ke.a,{children:Object(ue.jsx)("i",{className:"tim-icons icon-lock-circle"})})}),Object(ue.jsx)(qe.a,Object(d.a)({className:"form-control",name:"password",placeholder:"Password",type:"password",onFocus:function(e){return I(!0)},onBlur:function(e){return I(!1)}},m("password",{required:!0,minLength:4}))),Object(ue.jsx)("br",{}),"required"===(null===(r=f.password)||void 0===r?void 0:r.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing password"}),"minLength"===(null===(i=f.password)||void 0===i?void 0:i.type)&&Object(ue.jsx)("span",{id:"errors",children:"Password is too short"}),Object(ue.jsx)("br",{})]}),Object(ue.jsx)(Ue.a,{check:!0,className:"text-left",children:Object(ue.jsxs)(Ie.a,{check:!0,children:[Object(ue.jsx)(qe.a,{type:"checkbox"}),Object(ue.jsx)("span",{className:"form-check-sign"}),"I agree to the"," ",Object(ue.jsx)(o.c,{to:"/terms",exact:!0,children:"terms and conditions."})]})}),Object(ue.jsxs)(Fe.a,{children:[Object(ue.jsx)(pe.a,{type:"submit",className:"btn-round",color:"primary",size:"lg",disabled:!g||!y,children:"\u2714\ufe0f"}),Object(ue.jsx)(pe.a,{className:"btn-round",color:"primary",size:"lg",onClick:function(){_.push("/admin/customers")},children:"\u2716\ufe0f"})]})]})})]})})})]})})};var Ye=function(){var e,t,c,a,r,i,o,j,m=Object(s.useState)(!1),h=Object(p.a)(m,2),x=h[0],f=h[1],g=Object(s.useState)(!1),y=Object(p.a)(g,2),S=y[0],N=y[1],C=Object(s.useState)(!1),D=Object(p.a)(C,2),w=D[0],L=D[1],E=Object(s.useState)(!1),T=Object(p.a)(E,2),A=T[0],k=T[1],q=Object(s.useState)(Q.getState().customersState.customers),U=Object(p.a)(q,2),I=(U[0],U[1]),F=Object(O.a)({mode:"onTouched"}),P=F.register,M=F.handleSubmit,_=F.formState,R=_.errors,V=_.isDirty,G=_.isValid,z=Object(l.g)();function $(){return($=Object(b.a)(u.a.mark((function e(t){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,(n=new FormData).append("firstName",t.firstName),n.append("lastName",t.lastName),n.append("email",t.email),n.append("password",t.password),e.next=8,re.post(ee.urls.admin+"customer",n);case 8:c=e.sent,Q.dispatch(Y(c.data)),z.push("/admin/customers"),je.success(se.ADDED_CUSTOMER),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),je.error(e.t0.message);case 17:case 18:case"end":return e.stop()}}),e,null,[[0,14]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){var e;return(null===(e=Q.getState().authLoginState.client)||void 0===e?void 0:e.clientType)!==v.admin&&(je.error(ae.PLS_LOGIN),z.push("/login")),Q.subscribe((function(){I(Q.getState().customersState.customers)}))})),Object(ue.jsx)("div",{className:"AddCustomer section section-signup",children:Object(ue.jsxs)(ge.a,{children:[Object(ue.jsx)("div",{className:"squares square-1"}),Object(ue.jsx)("div",{className:"squares square-2"}),Object(ue.jsx)("div",{className:"squares square-3"}),Object(ue.jsx)("div",{className:"squares square-4"}),Object(ue.jsx)(ye.a,{className:"row-grid justify-content-between align-items-center",children:Object(ue.jsx)(Se.a,{className:"mb-lg-auto",lg:"6",children:Object(ue.jsxs)(Ne.a,{className:"card-register ",children:[Object(ue.jsxs)(Ce.a,{children:[Object(ue.jsx)(De.a,{id:"cardImage1",alt:"...",src:n(36).default}),Object(ue.jsx)(we.a,{id:"abs1",tag:"h4",children:" Add"})]}),Object(ue.jsx)(Le.a,{children:Object(ue.jsxs)(Ee.a,{className:"form",onSubmit:M((function(e){return $.apply(this,arguments)})),children:[Object(ue.jsxs)(Te.a,{className:fe()({"input-group-focus":x}),children:[Object(ue.jsx)(Ae.a,{addonType:"prepend",children:Object(ue.jsx)(ke.a,{children:Object(ue.jsx)("i",{className:"tim-icons icon-single-02"})})}),Object(ue.jsx)(qe.a,Object(d.a)({name:"firstName",placeholder:"FirstName",type:"text",onFocus:function(e){return f(!0)},onBlur:function(e){return f(!1)}},P("firstName",{required:!0,minLength:2}))),Object(ue.jsx)("br",{}),"required"===(null===(e=R.firstName)||void 0===e?void 0:e.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing name"}),"minLength"===(null===(t=R.firstName)||void 0===t?void 0:t.type)&&Object(ue.jsx)("span",{id:"errors",children:"Name is too short"}),Object(ue.jsx)("br",{})]}),Object(ue.jsxs)(Te.a,{className:fe()({"input-group-focus":S}),children:[Object(ue.jsx)(Ae.a,{addonType:"prepend",children:Object(ue.jsx)(ke.a,{children:Object(ue.jsx)("i",{className:"tim-icons icon-single-02"})})}),Object(ue.jsx)(qe.a,Object(d.a)({name:"lastName",placeholder:"LastName",type:"text",onFocus:function(e){return N(!0)},onBlur:function(e){return N(!1)}},P("lastName",{required:!0,minLength:2}))),Object(ue.jsx)("br",{}),"required"===(null===(c=R.lastName)||void 0===c?void 0:c.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing LastName"}),"minLength"===(null===(a=R.lastName)||void 0===a?void 0:a.type)&&Object(ue.jsx)("span",{id:"errors",children:"LastName is too short"}),Object(ue.jsx)("br",{})]}),Object(ue.jsxs)(Te.a,{className:fe()({"input-group-focus":w}),children:[Object(ue.jsx)(Ae.a,{addonType:"prepend",children:Object(ue.jsx)(ke.a,{children:Object(ue.jsx)("i",{className:"tim-icons icon-email-85"})})}),Object(ue.jsx)(qe.a,Object(d.a)({name:"email",placeholder:"Email",type:"email",onFocus:function(e){return L(!0)},onBlur:function(e){return L(!1)}},P("email",{required:!0,minLength:9}))),"required"===(null===(r=R.email)||void 0===r?void 0:r.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing email"}),"minLength"===(null===(i=R.email)||void 0===i?void 0:i.type)&&Object(ue.jsx)("span",{id:"errors",children:"Email is too short"})]}),Object(ue.jsxs)(Te.a,{className:fe()({"input-group-focus":A}),children:[Object(ue.jsx)(Ae.a,{addonType:"prepend",children:Object(ue.jsx)(ke.a,{children:Object(ue.jsx)("i",{className:"tim-icons icon-lock-circle"})})}),Object(ue.jsx)(qe.a,Object(d.a)({name:"password",placeholder:"Password",type:"password",onFocus:function(e){return k(!0)},onBlur:function(e){return k(!1)}},P("password",{required:!0,minLength:4}))),Object(ue.jsx)("br",{}),"required"===(null===(o=R.password)||void 0===o?void 0:o.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing password"}),"minLength"===(null===(j=R.password)||void 0===j?void 0:j.type)&&Object(ue.jsx)("span",{id:"errors",children:"Password is too short"}),Object(ue.jsx)("br",{})]}),Object(ue.jsx)(Ue.a,{check:!0,className:"text-left",children:Object(ue.jsxs)(Ie.a,{check:!0,children:[Object(ue.jsx)(qe.a,{type:"checkbox"}),Object(ue.jsx)("span",{className:"form-check-sign"}),"I agree to the"," ",Object(ue.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"terms and conditions"}),"."]})}),Object(ue.jsx)(Fe.a,{children:Object(ue.jsxs)("div",{className:"centeral",children:[Object(ue.jsx)(pe.a,{type:"submit",className:"btn-round",color:"primary",size:"lg",disabled:!V||!G,children:"\u2714\ufe0f"}),Object(ue.jsx)(pe.a,{className:"btn-round",color:"primary",size:"lg",onClick:function(){z.push("/admin/customers")},children:"\u2716\ufe0f"})]})})]})})]})})})]})})},He=(n(127),function(){var e=Object(s.useState)(Q.getState().companiesState.companies),t=Object(p.a)(e,2),n=t[0],c=t[1],a=Object(l.g)(),r=function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Q.getState().companiesState.companies.length){e.next=14;break}return e.next=3,re.get(ee.urls.admin+"companies");case 3:if(t=e.sent,Q.dispatch(y(t.data)),0===t.data.length){e.next=11;break}return c(t.data),je.success(se.DOWNLOADED_COMPANIES),e.abrupt("return",t.data);case 11:return je.error(ae.NO_COMPANIES),e.abrupt("return",0);case 13:case 14:case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e;(null===(e=Q.getState().authLoginState.client)||void 0===e?void 0:e.clientType)!==v.admin&&(je.error(ae.PLS_LOGIN),a.push("/login"));try{r()}catch(t){je.error(t.message)}return Q.subscribe((function(){c(Q.getState().companiesState.companies)}))})),Object(ue.jsxs)("div",{className:"AdminCompanyCards AdminCards",children:[n&&Object(ue.jsxs)("div",{className:"widthCustom",children:[Object(ue.jsx)("h1",{children:"Companies"}),Object(ue.jsxs)("h3",{children:["There are ",Q.getState().companiesState.companies.length," companies in the system "]}),Object(ue.jsx)("h3",{children:"you can always add new companies or customers!!"})," ",Object(ue.jsx)("br",{}),0===Q.getState().companiesState.companies.length&&Object(ue.jsx)(Ve,{msg:"Loading companies!"}),Object(ue.jsx)("br",{}),Object(ue.jsx)(pe.a,{className:"btn-round",color:"info",onClick:function(){return a.push("/admin/addCompany")},children:"\u2795"})]}),0!==Q.getState().companiesState.companies.length&&n.map((function(e){return Object(ue.jsx)("div",{className:"cardd",children:Object(ue.jsx)("div",{className:"boxx",children:Object(ue.jsxs)("div",{className:"contentt",children:[Object(ue.jsx)("h2",{children:e.id}),Object(ue.jsxs)("h3",{children:[" ",e.name," "]}),Object(ue.jsx)("p",{children:e.email})," ",Object(ue.jsx)("br",{}),Object(ue.jsx)("br",{}),Object(ue.jsx)(o.c,{to:"/admin/companies/details/"+e.id,children:"\u21e5"})]})})},e.id)}))]})}),We=(n(128),function(e){var t=+e.match.params.id,n=Object(s.useState)(Q.getState().couponsState.coupons.find((function(e){return e.id===t}))),c=Object(p.a)(n,2),a=c[0],r=c[1],i=Object(l.g)(),d=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(a),je.success(se.COUPON_LOADED),e.abrupt("return",a);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e;(null===(e=Q.getState().authLoginState.client)||void 0===e?void 0:e.clientType)!==v.customer&&(je.error(ae.PLS_LOGIN),i.push("/login"));try{d()}catch(t){je.error(t.message)}})),Object(ue.jsx)("div",{className:"CustomerCouponDetails ",children:a&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("h1",{id:"niceTitle",children:"Details"}),Object(ue.jsx)("div",{className:"flip-card",children:Object(ue.jsxs)("div",{className:"flip-card-inner",children:[Object(ue.jsx)("div",{className:"flip-card-front ",children:Object(ue.jsx)("img",{className:"myImage",src:ee.urls.company+"images/"+(null===a||void 0===a?void 0:a.id),alt:a.title})}),Object(ue.jsxs)("div",{className:"flip-card-back",children:[Object(ue.jsx)("h1",{id:"niceTitle2",children:a.title}),Object(ue.jsx)("h2",{id:"infovalue",children:a.description}),Object(ue.jsxs)("span",{id:"info",children:["Category:",Object(ue.jsx)("span",{id:"infoval",children:a.categoryType})]})," ",Object(ue.jsx)("br",{}),Object(ue.jsxs)("span",{id:"info",children:["Price:",Object(ue.jsxs)("span",{id:"infoval",children:[a.price,"$"]})]})," ",Object(ue.jsx)("br",{}),Object(ue.jsxs)("span",{id:"info",children:["Expiration:",Object(ue.jsx)("span",{id:"infoval",children:a.endDate})]})," ",Object(ue.jsx)("br",{}),Object(ue.jsxs)("span",{id:"info",children:["Amount :",Object(ue.jsx)("span",{id:"infoval",children:a.amount})]})," ",Object(ue.jsx)("br",{}),Object(ue.jsxs)("span",{id:"info",children:["amount:",Object(ue.jsx)("span",{id:"infoval",children:a.amount})]})," ",Object(ue.jsx)("br",{})]})]})}),Object(ue.jsx)("br",{}),Object(ue.jsxs)(o.c,{to:"/customer/coupons",children:[" ",Object(ue.jsx)(h.a,{children:Object(ue.jsx)("i",{className:"tim-icons icon-double-left"})})]})]})})});n(129);var Je=function(e){return Object(ue.jsxs)("div",{className:"CustomerCategoryFilter",children:[Object(ue.jsx)("span",{children:"Filter by Category"}),Object(ue.jsx)("div",{children:Object(ue.jsxs)("select",{className:"FilterControl",value:e.selected,onChange:function(t){e.onSaveFilterValue(t.target.value)},children:[Object(ue.jsx)("option",{children:"ALL"}),Object(ue.jsx)("option",{value:"FOOD",children:"FOOD"}),Object(ue.jsx)("option",{value:"ELECTRONICS",children:"ELECTRONICS"}),Object(ue.jsx)("option",{value:"RESTAURANT",children:"RESTAURANT"}),Object(ue.jsx)("option",{value:"VACATION",children:"VACATION"}),Object(ue.jsx)("option",{value:"LIFE_STYLE",children:"LIFE_STYLE"})]})})]})};n(130);var Qe=function(e){return Object(ue.jsxs)("div",{className:"CustomerMaxPriceFilter",children:[Object(ue.jsx)("span",{children:"Filter by Max Price"}),Object(ue.jsx)("div",{children:Object(ue.jsxs)("select",{className:"FilterControl",value:e.selected,onChange:function(t){e.onSaveFilterValue(t.target.value)},children:[Object(ue.jsx)("option",{children:"ALL"}),Object(ue.jsx)("option",{value:10,children:"10$"}),Object(ue.jsx)("option",{value:35,children:"35$"}),Object(ue.jsx)("option",{value:40,children:"40$"}),Object(ue.jsx)("option",{value:50,children:"50$"}),Object(ue.jsx)("option",{value:60,children:"60$"}),Object(ue.jsx)("option",{value:80,children:"80$"}),Object(ue.jsx)("option",{value:100,children:"100$"}),Object(ue.jsx)("option",{value:200,children:"200$"}),Object(ue.jsx)("option",{value:500,children:"500$"})]})})]})},Ke=(n(131),function(){var e=Object(s.useState)(Q.getState().couponsState.coupons),t=Object(p.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(0),r=Object(p.a)(a,2),i=r[0],d=r[1],j=Object(s.useState)(""),O=Object(p.a)(j,2),m=O[0],h=O[1],x=Object(s.useState)([]),f=Object(p.a)(x,2),g=f[0],y=f[1],S=Object(s.useState)("ALL"),N=Object(p.a)(S,2),C=N[0],D=N[1],w=Object(s.useState)(500),L=Object(p.a)(w,2),E=L[0],T=L[1],A=Object(l.g)(),k=function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==i){e.next=15;break}return e.next=3,re.get(ee.urls.customer+"coupons");case 3:if(t=e.sent,Q.dispatch(P(t.data)),0===t.data.length){e.next=11;break}return c(t.data),je.success(se.DOWNLOADED_COUPONS),e.abrupt("return",t.data);case 11:return je.error(ae.NO_COUPONS),d(0),e.abrupt("return",0);case 14:case 15:case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){y(n.filter((function(e){return e.title.toLowerCase().includes(m.toLowerCase())})))}),[m,n]),Object(s.useEffect)((function(){y(n.filter((function(e){return"ALL"===C.toString()?g:(null===e||void 0===e||null===(t=e.categoryType)||void 0===t?void 0:t.toString())===C;var t})))}),[C,n]),Object(s.useEffect)((function(){y(n.filter((function(e){return"ALL"===E.toString()?g:(null===e||void 0===e?void 0:e.price)<=E})))}),[E,n]),Object(s.useEffect)((function(){var e;(null===(e=Q.getState().authLoginState.client)||void 0===e?void 0:e.clientType)!==v.customer&&(je.error(ae.PLS_LOGIN),A.push("/login"));try{k()}catch(t){je.error(t)}return Q.subscribe((function(){d(Q.getState().couponsState.coupons.length)}))})),Object(ue.jsxs)("div",{className:"CustomerCouponCards CouponCards ",children:[Object(ue.jsx)("h1",{id:"niceTitle",children:"Coupons"}),Object(ue.jsxs)("h3",{children:["you have ",i," coupons."]}),Object(ue.jsxs)("span",{children:["if you wanna purchase more coupons i invite you to choose which on the following link ",Object(ue.jsx)("br",{})," "]}),0===i&&Object(ue.jsx)(Ve,{msg:"Loading coupons"}),Object(ue.jsx)("br",{}),Object(ue.jsxs)(o.c,{to:"/coupons",exact:!0,children:[" ",Object(ue.jsx)(pe.a,{color:"secondary",children:"Coupons"})]}),0!==i&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("br",{}),Object(ue.jsxs)("div",{className:"flexFilter",children:[Object(ue.jsx)("div",{className:"filterItem1",children:Object(ue.jsx)(Qe,{onSaveFilterValue:function(e){T(e)},selected:E})}),Object(ue.jsx)("div",{className:"filterItem1",children:Object(ue.jsx)(Je,{onSaveFilterValue:function(e){D(e)},selected:C})})]}),Object(ue.jsx)("br",{}),Object(ue.jsx)("div",{className:"shortWidth",children:Object(ue.jsx)(qe.a,{type:"text",placeholder:"Search...",spellCheck:!1,onChange:function(e){return h(e.target.value)}})}),Object(ue.jsx)("ul",{children:g.map((function(e){return Object(ue.jsx)("li",{children:Object(ue.jsx)(o.c,{to:"/customer/coupons/details/"+(null===e||void 0===e?void 0:e.id),children:Object(ue.jsxs)("div",{className:"details",children:[Object(ue.jsxs)("h2",{children:[" ",e.title]}),Object(ue.jsxs)("p",{children:[" ",e.price]}),Object(ue.jsxs)("p",{children:[" ",e.price]}),Object(ue.jsx)("img",{src:ee.urls.company+"images/"+(null===e||void 0===e?void 0:e.id),alt:e.title}),Object(ue.jsx)("img",{src:ee.urls.company+"images/"+(null===e||void 0===e?void 0:e.id),alt:e.title})]})})},null===e||void 0===e?void 0:e.id)}))})]}),null===g.length&&Object(ue.jsx)(Ve,{msg:"no filtered coupons found... "})]})});n(132);var Ze=function(e){return Object(ue.jsxs)("div",{className:"CompanyCategoryFilter",children:[Object(ue.jsx)("span",{children:"Filter by Category"}),Object(ue.jsx)("div",{children:Object(ue.jsxs)("select",{className:"FilterControl",value:e.selected,onChange:function(t){e.onSaveFilterValue(t.target.value)},children:[Object(ue.jsx)("option",{children:"ALL"}),Object(ue.jsx)("option",{value:"FOOD",children:"FOOD"}),Object(ue.jsx)("option",{value:"ELECTRONICS",children:"ELECTRONICS"}),Object(ue.jsx)("option",{value:"RESTAURANT",children:"RESTAURANT"}),Object(ue.jsx)("option",{value:"VACATION",children:"VACATION"}),Object(ue.jsx)("option",{value:"LIFE_STYLE",children:"LIFE_STYLE"})]})})]})};n(133);var Xe=function(e){return Object(ue.jsxs)("div",{className:"CompanyMaxPriceFilter",children:[Object(ue.jsx)("span",{children:"Filter by Max Price"}),Object(ue.jsx)("div",{children:Object(ue.jsxs)("select",{className:"FilterControl",value:e.selected,onChange:function(t){e.onSaveFilterValue(t.target.value)},children:[Object(ue.jsx)("option",{children:"ALL"}),Object(ue.jsx)("option",{value:10,children:"10$"}),Object(ue.jsx)("option",{value:35,children:"35$"}),Object(ue.jsx)("option",{value:40,children:"40$"}),Object(ue.jsx)("option",{value:50,children:"50$"}),Object(ue.jsx)("option",{value:60,children:"60$"}),Object(ue.jsx)("option",{value:80,children:"80$"}),Object(ue.jsx)("option",{value:100,children:"100$"}),Object(ue.jsx)("option",{value:200,children:"200$"}),Object(ue.jsx)("option",{value:500,children:"500$"})]})})]})},et=(n(134),function(){var e=Object(s.useState)([]),t=Object(p.a)(e,2),n=t[0],c=t[1],a=Object(s.useState)(""),r=Object(p.a)(a,2),i=r[0],d=r[1],j=Object(s.useState)([]),O=Object(p.a)(j,2),m=O[0],h=O[1],x=Object(s.useState)("ALL"),f=Object(p.a)(x,2),g=f[0],y=f[1],S=Object(s.useState)(500),N=Object(p.a)(S,2),C=N[0],D=N[1],w=Object(s.useState)(0),L=Object(p.a)(w,2),E=L[0],T=L[1],A=Object(l.g)(),k=function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==E){e.next=14;break}return e.next=3,re.get(ee.urls.company+"coupons");case 3:if(t=e.sent,Q.dispatch(P(t.data)),0===t.data.length){e.next=11;break}return c(t.data),je.success(se.DOWNLOADED_COUPONS),e.abrupt("return",t.data);case 11:return je.error(ae.NO_COUPONS),e.abrupt("return",0);case 13:case 14:case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){h(n.filter((function(e){return e.title.toLowerCase().includes(i.toLowerCase())})))}),[i,n]),Object(s.useEffect)((function(){h(n.filter((function(e){return"ALL"===g.toString()?m:(null===e||void 0===e||null===(t=e.categoryType)||void 0===t?void 0:t.toString())===g;var t})))}),[g,n]),Object(s.useEffect)((function(){h(n.filter((function(e){return"ALL"===C.toString()?m:(null===e||void 0===e?void 0:e.price)<=C})))}),[C,n]),Object(s.useEffect)((function(){var e;(null===(e=Q.getState().authLoginState.client)||void 0===e?void 0:e.clientType)!==v.company&&(je.error(ae.PLS_LOGIN),A.push("/login"));try{k()}catch(t){je.error(t)}return Q.subscribe((function(){T(Q.getState().couponsState.coupons.length)}))})),Object(ue.jsxs)("div",{className:"CompanyCouponCards CouponCards",children:[Object(ue.jsx)("h1",{id:"niceTitle",children:"Coupons"}),0===Q.getState().couponsState.coupons.length&&Object(ue.jsx)(Ve,{msg:"Loading coupons!"}),Object(ue.jsxs)("h1",{children:["There are ",Q.getState().couponsState.coupons.length," coupons in your company"]}),Object(ue.jsx)(pe.a,{className:"btn-round",color:"info",onClick:function(){A.push("/company/addcoupon")},children:"\u2795"}),Object(ue.jsx)("br",{}),Object(ue.jsxs)("div",{className:"flexFilter",children:[Object(ue.jsx)("div",{className:"filterItem1",children:Object(ue.jsx)(Xe,{onSaveFilterValue:function(e){D(e)},selected:C})}),Object(ue.jsx)("div",{className:"filterItem1",children:Object(ue.jsx)(Ze,{onSaveFilterValue:function(e){y(e)},selected:g})})]}),Object(ue.jsx)("br",{}),Object(ue.jsx)("div",{className:"shortWidth",children:Object(ue.jsx)(qe.a,{type:"text",placeholder:"Search...",spellCheck:!1,onChange:function(e){return d(e.target.value)}})}),0!==Q.getState().couponsState.coupons.length&&Object(ue.jsx)("ul",{children:m.map((function(e){return Object(ue.jsx)("li",{children:Object(ue.jsx)(o.c,{to:"/company/coupons/details/"+(null===e||void 0===e?void 0:e.id),exact:!0,children:Object(ue.jsxs)("div",{className:"details",children:[Object(ue.jsxs)("h2",{children:[" ",null===e||void 0===e?void 0:e.title]}),Object(ue.jsxs)("p",{children:[" ",null===e||void 0===e?void 0:e.price,"$"]}),Object(ue.jsxs)("p",{children:[" ",null===e||void 0===e?void 0:e.price,"$"]}),Object(ue.jsx)("img",{src:ee.urls.company+"images/"+(null===e||void 0===e?void 0:e.id),alt:null===e||void 0===e?void 0:e.title}),Object(ue.jsx)("img",{src:ee.urls.company+"images/"+(null===e||void 0===e?void 0:e.id),alt:null===e||void 0===e?void 0:e.title})]})})},null===e||void 0===e?void 0:e.id)}))}),0===m.length&&Object(ue.jsx)(Ve,{msg:"no filtered coupons found... "})]})});n(135);var tt=function(){return Object(ue.jsxs)("div",{className:"SignUp",children:[Object(ue.jsx)("h2",{id:"niceTitle",children:"SignUp"}),Object(ue.jsxs)("div",{className:"container1",children:[Object(ue.jsx)("div",{className:"item",children:Object(ue.jsx)(o.c,{id:"info",to:"/companySignUp",children:Object(ue.jsx)(h.a,{size:"lg",children:"Company"})})}),Object(ue.jsx)("div",{className:"item1",children:Object(ue.jsx)(o.c,{id:"info",to:"/customerSignUp",children:Object(ue.jsx)(h.a,{size:"lg",color:"default",children:"Customer"})})})]}),Object(ue.jsx)("div",{className:"item2",children:Object(ue.jsx)(o.c,{to:"/home",children:Object(ue.jsx)(h.a,{color:"info",children:Object(ue.jsx)("i",{className:"tim-icons icon-double-left"})})})})]})};n(136);var nt=function(){var e,t,c,a,r,i,j,m=Object(s.useState)(!1),h=Object(p.a)(m,2),x=h[0],f=h[1],g=Object(s.useState)(!1),y=Object(p.a)(g,2),S=y[0],N=y[1],C=Object(s.useState)(!1),D=Object(p.a)(C,2),w=D[0],L=D[1],T=Object(s.useState)(null),A=Object(p.a)(T,2),k=(A[0],A[1]),q=Object(l.g)(),U=Object(O.a)({mode:"onTouched"}),I=U.register,F=U.handleSubmit,P=U.formState,M=P.errors,_=P.isDirty,R=P.isValid;function V(){return(V=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.post(ee.urls.client+"signup",t);case 3:n=e.sent,Q.dispatch(E(n.data)),je.success(se.REGISTER_SUCCESS),q.push("/company"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),je.error(e.t0.message);case 12:case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){return Q.dispatch(G()),Q.subscribe((function(){k(Q.getState().couponsState.coupons)}))})),Object(ue.jsx)("div",{className:"section section-signup",children:Object(ue.jsxs)(ge.a,{children:[Object(ue.jsx)("div",{className:"squares square-1"}),Object(ue.jsx)("div",{className:"squares square-2"}),Object(ue.jsx)("div",{className:"squares square-3"}),Object(ue.jsx)("div",{className:"squares square-4"}),Object(ue.jsx)(ye.a,{className:"row-grid justify-content-between align-items-center",children:Object(ue.jsx)(Se.a,{className:"mb-lg-auto",lg:"6",children:Object(ue.jsxs)(Ne.a,{className:"card-register",children:[Object(ue.jsxs)(Ce.a,{children:[Object(ue.jsx)(De.a,{alt:"...",src:n(36).default}),Object(ue.jsxs)(we.a,{tag:"h4",children:[" ","SignUp"]})]}),Object(ue.jsx)(Le.a,{children:Object(ue.jsxs)(Ee.a,{className:"form",onSubmit:F((function(e){return V.apply(this,arguments)})),children:[Object(ue.jsxs)(Te.a,{className:fe()({"input-group-focus":x}),children:[Object(ue.jsx)(Ae.a,{addonType:"prepend",children:Object(ue.jsx)(ke.a,{children:Object(ue.jsx)("i",{className:"tim-icons icon-single-02"})})}),Object(ue.jsx)(qe.a,Object(d.a)({name:"name",placeholder:"Name",type:"text",onFocus:function(e){return f(!0)},onBlur:function(e){return f(!1)}},I("name",{required:!0,minLength:2}))),Object(ue.jsx)("br",{}),"required"===(null===(e=M.name)||void 0===e?void 0:e.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing name"}),"minLength"===(null===(t=M.name)||void 0===t?void 0:t.type)&&Object(ue.jsx)("span",{id:"errors",children:"Name is too short"}),Object(ue.jsx)("br",{})]}),Object(ue.jsxs)(Te.a,{children:[Object(ue.jsx)(Ae.a,{addonType:"prepend",children:Object(ue.jsx)(ke.a,{children:Object(ue.jsx)("i",{className:"tim-icons icon-email-85"})})}),Object(ue.jsx)(qe.a,Object(d.a)({name:"email",placeholder:"Email",type:"email",onFocus:function(e){return N(!0)},onBlur:function(e){return N(!1)}},I("email",{required:!0,minLength:9}))),"required"===(null===(c=M.email)||void 0===c?void 0:c.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing email"}),"minLength"===(null===(a=M.email)||void 0===a?void 0:a.type)&&Object(ue.jsx)("span",{id:"errors",children:"Email is too short"})]}),Object(ue.jsxs)(Te.a,{className:fe()({"input-group-focus":S}),children:[Object(ue.jsx)(Ae.a,{addonType:"prepend",children:Object(ue.jsx)(ke.a,{children:Object(ue.jsx)("i",{className:"tim-icons icon-lock-circle"})})}),Object(ue.jsx)(qe.a,Object(d.a)({name:"password",placeholder:"Password",type:"password",onFocus:function(e){return L(!0)},onBlur:function(e){return L(!1)}},I("password",{required:!0,minLength:4}))),Object(ue.jsx)("br",{}),"required"===(null===(r=M.password)||void 0===r?void 0:r.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing password"}),"minLength"===(null===(i=M.password)||void 0===i?void 0:i.type)&&Object(ue.jsx)("span",{id:"errors",children:"Password is too short"}),Object(ue.jsx)("br",{})]}),Object(ue.jsxs)(Te.a,{className:fe()({"input-group-focus":w}),children:[Object(ue.jsx)(Ae.a,{addonType:"prepend",children:Object(ue.jsx)(ke.a,{})}),Object(ue.jsx)(qe.a,Object(d.a)(Object(d.a)({name:"clientType",placeholder:"clientType",type:"select",id:"exampleSelect1"},I("clientType",{required:{value:!0,message:"you must choose a clientType"}})),{},{children:Object(ue.jsx)("option",{value:v.company,children:"COMPANY"})})),Object(ue.jsx)("br",{}),Object(ue.jsx)("span",{id:"errors",children:null===(j=M.clientType)||void 0===j?void 0:j.message}),Object(ue.jsx)("br",{})]}),Object(ue.jsx)(Ue.a,{check:!0,className:"text-left",children:Object(ue.jsxs)(Ie.a,{check:!0,children:[Object(ue.jsx)(qe.a,{required:!0,type:"checkbox"}),Object(ue.jsx)("span",{className:"form-check-sign"}),"I agree to the"," ",Object(ue.jsx)(o.c,{to:"/terms",exact:!0,children:"terms and conditions"}),"."]})}),Object(ue.jsxs)(Fe.a,{children:[Object(ue.jsx)(pe.a,{type:"submit",className:"btn-round",color:"primary",size:"lg",disabled:!_||!R,children:"\u2714\ufe0f"}),Object(ue.jsx)(pe.a,{className:"btn-round",color:"primary",size:"lg",onClick:function(){q.push("/home")},children:"\u2716\ufe0f"})]})]})})]})})})]})})};n(137);var ct=function(){var e,t,c,a,r,i,j,m,h,x=Object(s.useState)(!1),f=Object(p.a)(x,2),g=f[0],y=f[1],S=Object(s.useState)(!1),N=Object(p.a)(S,2),C=N[0],D=N[1],w=Object(s.useState)(!1),L=Object(p.a)(w,2),E=L[0],A=L[1],k=Object(s.useState)(!1),q=Object(p.a)(k,2),U=q[0],I=q[1],F=Object(s.useState)(null),P=Object(p.a)(F,2),M=(P[0],P[1]),_=Object(O.a)({mode:"onTouched"}),R=_.register,V=_.handleSubmit,z=_.formState,$=z.errors,B=z.isDirty,Y=z.isValid,H=Object(l.g)();function W(){return(W=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ne.a.post(ee.urls.client+"signup1",t);case 3:n=e.sent,Q.dispatch(T(n.data)),je.success(se.REGISTER_SUCCESS),H.push("/customer"),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),je.error(e.t0.message);case 12:case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}return Object(s.useEffect)((function(){return Q.dispatch(G()),Q.subscribe((function(){M(Q.getState().couponsState.coupons)}))})),Object(ue.jsx)("div",{className:"section section-signup",children:Object(ue.jsxs)(ge.a,{children:[Object(ue.jsx)("div",{className:"squares square-1"}),Object(ue.jsx)("div",{className:"squares square-2"}),Object(ue.jsx)("div",{className:"squares square-3"}),Object(ue.jsx)("div",{className:"squares square-4"}),Object(ue.jsx)(ye.a,{className:"row-grid justify-content-between align-items-center",children:Object(ue.jsx)(Se.a,{className:"mb-lg-auto",lg:"6",children:Object(ue.jsxs)(Ne.a,{className:"card-register",children:[Object(ue.jsxs)(Ce.a,{children:[Object(ue.jsx)(De.a,{alt:"...",src:n(36).default}),Object(ue.jsxs)(we.a,{tag:"h4",children:[" ","SignUp"]})]}),Object(ue.jsx)(Le.a,{children:Object(ue.jsxs)(Ee.a,{className:"form",onSubmit:V((function(e){return W.apply(this,arguments)})),children:[Object(ue.jsxs)(Te.a,{className:fe()({"input-group-focus":g}),children:[Object(ue.jsx)(Ae.a,{addonType:"prepend",children:Object(ue.jsx)(ke.a,{children:Object(ue.jsx)("i",{className:"tim-icons icon-single-02"})})}),Object(ue.jsx)(qe.a,Object(d.a)({name:"firstName",placeholder:"FirstName",type:"text",onFocus:function(e){return y(!0)},onBlur:function(e){return y(!1)}},R("firstName",{required:!0,minLength:2}))),Object(ue.jsx)("br",{}),"required"===(null===(e=$.firstName)||void 0===e?void 0:e.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing name"}),"minLength"===(null===(t=$.firstName)||void 0===t?void 0:t.type)&&Object(ue.jsx)("span",{id:"errors",children:"Name is too short"}),Object(ue.jsx)("br",{})]}),Object(ue.jsxs)(Te.a,{className:fe()({"input-group-focus":C}),children:[Object(ue.jsx)(Ae.a,{addonType:"prepend",children:Object(ue.jsx)(ke.a,{children:Object(ue.jsx)("i",{className:"tim-icons icon-single-02"})})}),Object(ue.jsx)(qe.a,Object(d.a)({name:"lastName",placeholder:"LastName",type:"text",onFocus:function(e){return D(!0)},onBlur:function(e){return D(!1)}},R("lastName",{required:!0,minLength:2}))),Object(ue.jsx)("br",{}),"required"===(null===(c=$.lastName)||void 0===c?void 0:c.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing name"}),"minLength"===(null===(a=$.lastName)||void 0===a?void 0:a.type)&&Object(ue.jsx)("span",{id:"errors",children:"Name is too short"}),Object(ue.jsx)("br",{})]}),Object(ue.jsxs)(Te.a,{className:fe()({"input-group-focus":E}),children:[Object(ue.jsx)(Ae.a,{addonType:"prepend",children:Object(ue.jsx)(ke.a,{children:Object(ue.jsx)("i",{className:"tim-icons icon-email-85"})})}),Object(ue.jsx)(qe.a,Object(d.a)({name:"email",placeholder:"Email",type:"email",onFocus:function(e){return A(!0)},onBlur:function(e){return A(!1)}},R("email",{required:!0,minLength:9}))),"required"===(null===(r=$.email)||void 0===r?void 0:r.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing email"}),"minLength"===(null===(i=$.email)||void 0===i?void 0:i.type)&&Object(ue.jsx)("span",{id:"errors",children:"Email is too short"})]}),Object(ue.jsxs)(Te.a,{className:fe()({"input-group-focus":U}),children:[Object(ue.jsx)(Ae.a,{addonType:"prepend",children:Object(ue.jsx)(ke.a,{children:Object(ue.jsx)("i",{className:"tim-icons icon-lock-circle"})})}),Object(ue.jsx)(qe.a,Object(d.a)({name:"password",placeholder:"Password",type:"password",onFocus:function(e){return I(!0)},onBlur:function(e){return I(!1)}},R("password",{required:!0,minLength:4}))),Object(ue.jsx)("br",{}),"required"===(null===(j=$.password)||void 0===j?void 0:j.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing password"}),"minLength"===(null===(m=$.password)||void 0===m?void 0:m.type)&&Object(ue.jsx)("span",{id:"errors",children:"Password is too short"}),Object(ue.jsx)("br",{})]}),Object(ue.jsxs)(Te.a,{children:[Object(ue.jsx)(Ae.a,{addonType:"prepend",children:Object(ue.jsx)(ke.a,{})}),Object(ue.jsx)(qe.a,Object(d.a)(Object(d.a)({name:"clientType",placeholder:"clientType",type:"select",id:"exampleSelect1"},R("clientType",{required:{value:!0,message:"you must choose a clientType"}})),{},{children:Object(ue.jsx)("option",{value:v.customer,children:"CUSTOMER"})})),Object(ue.jsx)("br",{}),Object(ue.jsx)("span",{id:"errors",children:null===(h=$.clientType)||void 0===h?void 0:h.message}),Object(ue.jsx)("br",{})]}),Object(ue.jsx)(Ue.a,{check:!0,className:"text-left",children:Object(ue.jsxs)(Ie.a,{check:!0,children:[Object(ue.jsx)(qe.a,{type:"checkbox"}),Object(ue.jsx)("span",{className:"form-check-sign"}),"I agree to the"," ",Object(ue.jsx)(o.c,{to:"/terms",exact:!0,children:"terms and conditions"}),"."]})}),Object(ue.jsxs)(Fe.a,{children:[Object(ue.jsx)(pe.a,{type:"submit",className:"btn-round",color:"primary",size:"lg",disabled:!B||!Y,children:"\u2714\ufe0f"}),Object(ue.jsx)(pe.a,{className:"btn-round",color:"primary",size:"lg",onClick:function(){H.push("/home")},children:"\u2716\ufe0f"})]})]})})]})})})]})})},st=(n(138),function(){var e=Object(s.useState)(Q.getState().customersState.customers),t=Object(p.a)(e,2),n=t[0],c=t[1],a=Object(l.g)(),r=function(){var e=Object(b.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==Q.getState().customersState.customers.length){e.next=14;break}return e.next=3,re.get(ee.urls.admin+"customers");case 3:if(t=e.sent,Q.dispatch(B(t.data)),0===t.data.length){e.next=11;break}return c(t.data),je.success(se.DOWNLOADED_COMPANIES),e.abrupt("return",t.data);case 11:return je.error(ae.NO_COMPANIES),e.abrupt("return",0);case 13:case 14:case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(s.useEffect)((function(){var e;(null===(e=Q.getState().authLoginState.client)||void 0===e?void 0:e.clientType)!==v.admin&&(je.error(ae.PLS_LOGIN),a.push("/login"));try{r()}catch(t){je.error(t.message)}return Q.subscribe((function(){c(Q.getState().customersState.customers)}))})),Object(ue.jsxs)("div",{className:"AdminCustomerCards AdminCards",children:[n&&Object(ue.jsxs)("div",{className:"widthCustom",children:[Object(ue.jsx)("h1",{children:"Customers"}),Object(ue.jsxs)("h3",{children:["There are ",Q.getState().customersState.customers.length," customers in the system "]}),Object(ue.jsx)("h3",{children:"you can always add new companies or customers!!"})," ",Object(ue.jsx)("br",{}),0===Q.getState().customersState.customers.length&&Object(ue.jsx)(Ve,{msg:"customers on the way!"})," ",Object(ue.jsx)("br",{}),Object(ue.jsx)(h.a,{className:"btn-round",color:"info",onClick:function(){return a.push("/admin/addCustomer")},children:"\u2795 "})]}),0!==Q.getState().customersState.customers.length&&n.map((function(e){return Object(ue.jsx)("div",{className:"cardd",children:Object(ue.jsx)("div",{className:"boxx",children:Object(ue.jsxs)("div",{className:"contentt",children:[Object(ue.jsx)("h2",{children:e.id}),Object(ue.jsxs)("h3",{children:[" ",e.firstName," "]}),Object(ue.jsx)("p",{children:e.email})," ",Object(ue.jsx)("br",{}),Object(ue.jsx)("br",{}),Object(ue.jsx)(o.c,{to:"/admin/customers/details/"+e.id,children:"\u21e5"})]})})},e.id)}))]})}),at=(n(139),function(e){var t,n,c,a,r,i,j,m,x=+e.match.params.id,f=Object(s.useState)(Q.getState().customersState.customers.find((function(e){return e.id===x}))),g=Object(p.a)(f,2),y=g[0],S=g[1],N=Object(O.a)({mode:"onTouched"}),C=N.register,D=N.handleSubmit,w=N.formState,L=w.errors,E=w.isDirty,T=w.isValid,A=Object(l.g)(),k=Object(s.useState)(Q.getState().customersState.customers),q=Object(p.a)(k,2),U=(q[0],q[1]),I=Object(s.useState)(!0),F=Object(p.a)(I,2),P=F[0],M=F[1],_=Object(s.useState)(null===y||void 0===y?void 0:y.firstName),R=Object(p.a)(_,2),V=R[0],G=R[1],z=Object(s.useState)(null===y||void 0===y?void 0:y.lastName),$=Object(p.a)(z,2),B=$[0],Y=$[1],J=Object(s.useState)(null===y||void 0===y?void 0:y.email),K=Object(p.a)(J,2),Z=K[0],X=K[1],te=Object(s.useState)(null===y||void 0===y?void 0:y.password),ne=Object(p.a)(te,2),ce=ne[0],ie=ne[1],oe=function(){var e=Object(b.a)(u.a.mark((function e(t){var n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.id=x,e.next=4,re.put(ee.urls.admin+"customer",t);case 4:n=e.sent,Q.dispatch(H(n.data)),S(n.data),je.success(se.UPDATED_SUCCESS),A.push("/admin/customers"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),je.error(e.t0.message);case 14:case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t){return e.apply(this,arguments)}}(),le=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(y),e.abrupt("return",y);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(s.useEffect)((function(){var e;(null===(e=Q.getState().authLoginState.client)||void 0===e?void 0:e.clientType)!==v.admin&&(je.error(ae.PLS_LOGIN),A.push("/login"));try{le()}catch(t){je.error(t.message)}return Q.subscribe((function(){U(Q.getState().customersState.customers)}))}));var de=function(){var e=Object(b.a)(u.a.mark((function e(){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete id="+x+"?")){e.next=14;break}return e.prev=2,e.next=5,re.delete(ee.urls.admin+"company/"+x);case 5:Q.dispatch(W(x)),je.success(se.DELETED_SUCCESS),A.push("/admin/customers"),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),je.error(e.t0.message);case 13:case 14:case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),be=function(e){return G(e.target.value),V},pe=function(e){return Y(e.target.value),B},Oe=function(e){return X(e.target.value),Z},me=function(e){return ie(e.target.value),ce};return Object(ue.jsx)("div",{className:"AdminCustomerDetails cardD",children:y&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("h2",{id:"niceTitle",children:"Details"}),Object(ue.jsxs)("form",{onSubmit:D(oe),children:[Object(ue.jsx)(h.a,{type:"button",onClick:function(){return M(!1)},children:"\u270f\ufe0f"})," ",Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"ID"}),Object(ue.jsx)("input",Object(d.a)({className:"form-control",type:"number",disabled:!0,name:"id",defaultValue:null===y||void 0===y?void 0:y.id},C("id",{required:!0})))," ",Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"FirstName"}),Object(ue.jsx)("input",Object(d.a)({className:"form-control",type:"text",disabled:P,name:"firstName",defaultValue:null===y||void 0===y?void 0:y.firstName,onChange:function(){return be}},C("firstName",{required:!0,minLength:2}))),"required"===(null===(t=L.firstName)||void 0===t?void 0:t.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing name"}),"minLength"===(null===(n=L.firstName)||void 0===n?void 0:n.type)&&Object(ue.jsx)("span",{id:"errors",children:"Name is too short"}),Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"LastName"}),Object(ue.jsx)("input",Object(d.a)({className:"form-control",type:"text",disabled:P,name:"lastName",defaultValue:null===y||void 0===y?void 0:y.lastName,onChange:function(){return pe}},C("lastName",{required:!0,minLength:2}))),"required"===(null===(c=L.lastName)||void 0===c?void 0:c.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing name"}),"minLength"===(null===(a=L.lastName)||void 0===a?void 0:a.type)&&Object(ue.jsx)("span",{id:"errors",children:"Name is too short"}),Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"Email"}),Object(ue.jsx)("input",Object(d.a)({className:"form-control",type:"email",disabled:P,name:"email",defaultValue:null===y||void 0===y?void 0:y.email,onChange:function(){return Oe}},C("email",{required:!0,minLength:9}))),"required"===(null===(r=L.email)||void 0===r?void 0:r.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing email"}),"minLength"===(null===(i=L.email)||void 0===i?void 0:i.type)&&Object(ue.jsx)("span",{id:"errors",children:"Email is too short"}),Object(ue.jsx)("br",{}),Object(ue.jsx)("label",{children:"Password"}),Object(ue.jsx)("input",Object(d.a)({className:"form-control",type:"password",disabled:P,name:"password",defaultValue:null===y||void 0===y?void 0:y.password,onChange:function(){return me}},C("password",{required:!0,minLength:4}))),"required"===(null===(j=L.password)||void 0===j?void 0:j.type)&&Object(ue.jsx)("span",{id:"errors",children:"Missing password"}),"minLength"===(null===(m=L.password)||void 0===m?void 0:m.type)&&Object(ue.jsx)("span",{id:"errors",children:"Password is too short"}),Object(ue.jsx)("br",{}),Object(ue.jsx)(h.a,{type:"submit",size:"lg",disabled:!E||!T,children:"\u2714\ufe0f"}),Object(ue.jsx)(h.a,{onClick:function(){return de()},size:"lg",children:" \ud83d\uddd1\ufe0f"})]}),Object(ue.jsxs)(o.c,{to:"/admin/customers",children:[" ",Object(ue.jsx)(h.a,{children:Object(ue.jsx)("i",{className:"tim-icons icon-double-left"})})]})]})})});n(140);var rt=function(){return Object(ue.jsxs)("div",{className:"Terms",children:[Object(ue.jsx)("h1",{id:"niceTitle2",children:"There are no terms for now ..."}),Object(ue.jsx)("img",{src:"https://media.giphy.com/media/39pGKIF075UuS7nxrI/giphy.gif",alt:"jk"}),Object(ue.jsx)("br",{}),Object(ue.jsx)("br",{}),Object(ue.jsx)(pe.a,{children:Object(ue.jsx)(o.c,{to:"/home",children:Object(ue.jsx)("i",{className:"tim-icons icon-double-left"})})})]})};n(141);var it=function(){return Object(ue.jsxs)("div",{className:"About",children:[Object(ue.jsx)("h1",{id:"niceTitle",children:"About"}),Object(ue.jsx)("span",{children:"This is a coupon management page , built with React.js and Spring Framework"})," ",Object(ue.jsx)("br",{}),Object(ue.jsx)("span",{children:"To see the page functionalities you have to sign up or login "})," ",Object(ue.jsx)("br",{}),Object(ue.jsx)("br",{}),Object(ue.jsx)("h4",{id:"niceTitle3",children:"Admin:"}),Object(ue.jsxs)("ul",{children:[Object(ue.jsx)("li",{children:"Get All companies/customers"}),Object(ue.jsx)("li",{children:"Get company/customer"}),Object(ue.jsx)("li",{children:"Add company/customer"}),Object(ue.jsx)("li",{children:"Delete company/customer"}),Object(ue.jsx)("li",{children:"Update company/customer"})]}),Object(ue.jsx)("h4",{id:"niceTitle3",children:"Company:"}),Object(ue.jsxs)("ul",{children:[Object(ue.jsx)("li",{children:"Get All company coupons"}),Object(ue.jsx)("li",{children:"Get company coupon"}),Object(ue.jsx)("li",{children:"Add Coupon"}),Object(ue.jsx)("li",{children:"Delete Coupon"}),Object(ue.jsx)("li",{children:"Update Coupon"})]}),Object(ue.jsx)("h4",{id:"niceTitle3",children:"Customer:"}),Object(ue.jsxs)("ul",{children:[Object(ue.jsx)("li",{children:"Get All Coupons"}),Object(ue.jsx)("li",{children:"Get Customer coupon"}),Object(ue.jsx)("li",{children:"Purchase (add) Coupon"})]}),Object(ue.jsxs)("span",{children:[Object(ue.jsx)("span",{id:"errors",children:"Note : "}),"everyone can see All coupons at All times ",Object(ue.jsx)("br",{})," just go to Home and press See All coupons!"]}),Object(ue.jsx)("br",{}),Object(ue.jsx)("br",{}),Object(ue.jsxs)("span",{children:[Object(ue.jsx)("span",{id:"errors",children:"Note : "}),"To see info every time you click on something just scroll down!"]}),Object(ue.jsx)("br",{}),Object(ue.jsx)("br",{}),Object(ue.jsxs)("span",{children:["Made by ",Object(ue.jsx)("a",{href:"https://www.linkedin.com/in/mijael-rofe-42a264180/",target:"_blank",rel:"noreferrer",children:"Mijael Rofe"})]}),Object(ue.jsx)("br",{})]})};var ot=function(){return Object(ue.jsx)("div",{className:"Routing",children:Object(ue.jsx)(o.a,{children:Object(ue.jsxs)(l.d,{children:[Object(ue.jsx)(l.b,{path:"/home",component:Re,exact:!0}),Object(ue.jsx)(l.b,{path:"/terms",component:rt,exact:!0}),Object(ue.jsx)(l.b,{path:"/about",component:it,exact:!0}),Object(ue.jsx)(l.b,{path:"/coupons",component:Ge,exact:!0}),Object(ue.jsx)(l.b,{path:"/coupons/details/:id",component:ze,exact:!0}),Object(ue.jsx)(l.b,{path:"/signup",component:tt,exact:!0}),Object(ue.jsx)(l.b,{path:"/companySignUp",component:nt,exact:!0}),Object(ue.jsx)(l.b,{path:"/customerSignUp",component:ct,exact:!0}),Object(ue.jsx)(l.b,{path:"/login",component:Pe,exact:!0}),Object(ue.jsx)(l.b,{path:"/logout",component:Me,exact:!0}),Object(ue.jsx)(l.b,{path:"/admin",component:He,exact:!0}),Object(ue.jsx)(l.b,{path:"/admin/addCompany",component:Be,exact:!0}),Object(ue.jsx)(l.b,{path:"/admin/addCustomer",component:Ye,exact:!0}),Object(ue.jsx)(l.b,{path:"/admin/companies",component:He,exact:!0}),Object(ue.jsx)(l.b,{path:"/admin/customers",component:st,exact:!0}),Object(ue.jsx)(l.b,{path:"/admin/companies/details/:id",component:be,exact:!0}),Object(ue.jsx)(l.b,{path:"/admin/customers/details/:id",component:at,exact:!0}),Object(ue.jsx)(l.b,{path:"/company",component:et,exact:!0}),Object(ue.jsx)(l.b,{path:"/company/coupons",component:et,exact:!0}),Object(ue.jsx)(l.b,{path:"/company/coupons/details/:id",component:xe,exact:!0}),Object(ue.jsx)(l.b,{path:"/company/addcoupon",component:$e,exact:!0}),Object(ue.jsx)(l.b,{path:"/customer",component:Ke,exact:!0}),Object(ue.jsx)(l.b,{path:"/customer/coupons",component:Ke,exact:!0}),Object(ue.jsx)(l.b,{path:"/customer/coupons/details/:id",component:We,exact:!0}),Object(ue.jsx)(l.b,{path:"/customer/purchase",component:Ge,exact:!0}),Object(ue.jsx)(l.a,{from:"/",to:"home",exact:!0}),Object(ue.jsx)(l.a,{from:"",to:"home",exact:!0}),Object(ue.jsx)(l.a,{from:"/*",to:"home",exact:!0}),Object(ue.jsx)(l.b,{component:_e,exact:!0})]})})})},lt=(n(142),n(143),function(){var e=Object(s.useState)(Q.getState().authLoginState.client),t=Object(p.a)(e,2),n=t[0],c=t[1];return Object(s.useEffect)((function(){var e=Q.subscribe((function(){return c(Q.getState().authLoginState.client),e}))})),Object(ue.jsxs)("div",{className:"AuthMenu",children:[n&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsxs)("span",{id:"darkgrey1",children:[" Welcome ",n.clientName]}),Object(ue.jsx)("span",{children:" | "}),Object(ue.jsx)(o.c,{to:"/logout",className:"normal",activeClassName:"active",children:"Logout"})]}),!n&&Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)("span",{id:"darkgrey1",children:"Hello guest"}),Object(ue.jsx)("span",{children:" | "}),Object(ue.jsx)(o.c,{to:"/login",className:"normal",activeClassName:"active",children:"Login"}),Object(ue.jsx)("span",{children:" | "}),Object(ue.jsx)(o.c,{to:"/signup",className:"normal",activeClassName:"active",children:"SignUp"})]})]})}),dt=n(184),jt=n(185),ut=n(190),bt=n(186),pt=n(187),Ot=n(191),mt=n(192),ht=n(188),xt=n(189);function vt(){var e=Object(s.useState)(Q.getState().authLoginState.client),t=Object(p.a)(e,2),n=t[0],c=t[1],r=a.a.useState(!1),i=Object(p.a)(r,2),l=i[0],d=i[1],j=a.a.useState(""),u=Object(p.a)(j,2),b=u[0],O=u[1],m=a.a.useState("navbar-transparent"),h=Object(p.a)(m,2),x=h[0],f=h[1];Object(s.useEffect)((function(){var e=Q.subscribe((function(){return c(Q.getState().authLoginState.client),e}))})),a.a.useEffect((function(){return window.addEventListener("scroll",g),function(){window.removeEventListener("scroll",g)}}),[]);var g=function(){document.documentElement.scrollTop>99||document.body.scrollTop>99?f("bg-info"):(document.documentElement.scrollTop<100||document.body.scrollTop<100)&&f("navbar-transparent")},y=function(){document.documentElement.classList.toggle("nav-open"),d(!l)};return Object(ue.jsx)(dt.a,{className:"fixed-top "+x,"color-on-scroll":"100",expand:"lg",children:Object(ue.jsxs)(ge.a,{children:[Object(ue.jsxs)("div",{className:"navbar-translate",children:[Object(ue.jsxs)(jt.a,{to:"/",exact:"true",tag:o.b,id:"navbar-brand",children:[Object(ue.jsx)("span",{children:"Click 'n' Save \u25c9 "}),"Coupons"]}),Object(ue.jsx)(ut.a,{placement:"bottom",target:"navbar-brand",children:"Designed and Coded by Mijael Rofe"}),Object(ue.jsxs)("button",{"aria-expanded":l,className:"navbar-toggler navbar-toggler",onClick:y,children:[Object(ue.jsx)("span",{className:"navbar-toggler-bar bar1"}),Object(ue.jsx)("span",{className:"navbar-toggler-bar bar2"}),Object(ue.jsx)("span",{className:"navbar-toggler-bar bar3"})]})]}),Object(ue.jsxs)(bt.a,{className:"justify-content-end "+b,navbar:!0,isOpen:l,onExiting:function(){O("collapsing-out")},onExited:function(){O("")},children:[Object(ue.jsx)("div",{className:"navbar-collapse-header",children:Object(ue.jsxs)(ye.a,{children:[Object(ue.jsx)(Se.a,{className:"collapse-brand",xs:"6",children:Object(ue.jsx)("a",{href:"#pablo",onClick:function(e){return e.preventDefault()},children:"Click 'n' Save"})}),Object(ue.jsx)(Se.a,{className:"collapse-close text-right",xs:"6",children:Object(ue.jsx)("button",{"aria-expanded":l,className:"navbar-toggler",onClick:y,children:Object(ue.jsx)("i",{className:"tim-icons icon-simple-remove"})})})]})}),Object(ue.jsxs)(pt.a,{navbar:!0,children:[Object(ue.jsxs)(Ot.a,{id:"DropDownMenu",nav:!0,children:[Object(ue.jsxs)(mt.a,{id:"DropDownMenu",caret:!0,color:"default","data-toggle":"dropdown",href:"#pablo",nav:!0,onClick:function(e){return e.preventDefault()},children:[Object(ue.jsx)("i",{className:"fa fa-cogs d-lg-none d-xl-none"}),"Menu"]}),Object(ue.jsx)(ht.a,{className:"dropdown-with-icons",children:n?n.clientType===v.admin?Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(xt.a,{id:"DropdownItem",tag:o.b,to:"/admin/companies",exact:"true",children:"AdminCompanies"}),Object(ue.jsx)(xt.a,{id:"DropdownItem",tag:o.b,to:"/admin/customers",exact:"true",children:"AdminCustomers"}),Object(ue.jsx)(xt.a,{id:"DropdownItem",tag:o.b,to:"/home",exact:"true",children:"Home"}),Object(ue.jsx)(xt.a,{id:"DropdownItem",tag:o.b,to:"/about",exact:"true",children:"About"})]}):n.clientType===v.company?Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(xt.a,{id:"DropdownItem",tag:o.b,to:"/company/coupons",exact:"true",children:"Company-Coupons"}),Object(ue.jsx)(xt.a,{id:"DropdownItem",tag:o.b,to:"/home",exact:"true",children:"Home"}),Object(ue.jsx)(xt.a,{id:"DropdownItem",tag:o.b,to:"/about",exact:"true",children:"About"})]}):n.clientType===v.customer?Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(xt.a,{id:"DropdownItem",tag:o.b,to:"/customer",exact:"true",children:"Coupons"}),Object(ue.jsx)(xt.a,{id:"DropdownItem",tag:o.b,to:"/customer/purchase",exact:"true",children:"Purchase-coupons"}),Object(ue.jsx)(xt.a,{id:"DropdownItem",tag:o.b,to:"/home",exact:"true",children:"Home"}),Object(ue.jsx)(xt.a,{id:"DropdownItem",tag:o.b,to:"/about",exact:"true",children:"About"})]}):null:Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(xt.a,{id:"DropdownItem",tag:o.b,to:"/home",exact:"true",children:"Home"}),Object(ue.jsx)(xt.a,{id:"DropdownItem",tag:o.b,to:"/coupons",exact:"true",children:"All coupons"}),Object(ue.jsx)(xt.a,{id:"DropdownItem",tag:o.b,to:"/about",exact:"true",children:"About"})]})})]}),Object(ue.jsx)(lt,{})]})]})]})})}function ft(){return Object(ue.jsxs)("div",{className:"page-header header-filter",children:[Object(ue.jsx)("div",{className:"squares square1"}),Object(ue.jsx)("div",{className:"squares square2"}),Object(ue.jsx)("div",{className:"squares square3"}),Object(ue.jsx)("div",{className:"squares square4"}),Object(ue.jsx)("div",{className:"squares square5"}),Object(ue.jsx)("div",{className:"squares square6"}),Object(ue.jsx)("div",{className:"squares square7"}),Object(ue.jsx)(ge.a,{children:Object(ue.jsxs)("div",{className:"content-center brand",children:[Object(ue.jsx)("h1",{className:"h1-seo",children:"Click 'n' Save"}),Object(ue.jsx)("h3",{className:"d-none d-sm-block",children:"Coupon-Management-System for getting coupons"}),Object(ue.jsx)("h4",{children:"Scroll down for more..."}),Object(ue.jsx)("h4",{children:"\u2b07\ufe0f\ud83d\udc47\ud83d\udcdc\ud83d\udc47\u2b07\ufe0f"})]})})]})}n(163);var gt=function(){return a.a.useEffect((function(){return document.body.classList.toggle("index-page"),function(){document.body.classList.toggle("index-page")}}),[]),Object(ue.jsx)(ue.Fragment,{children:Object(ue.jsxs)(o.a,{children:[Object(ue.jsx)(vt,{}),Object(ue.jsxs)("div",{className:"wrapper",children:[Object(ue.jsx)(ft,{}),Object(ue.jsx)("div",{className:"main",children:Object(ue.jsx)(ot,{})})]})]})})},yt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,193)).then((function(t){var n=t.getCLS,c=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;n(e),c(e),s(e),a(e),r(e)}))};n(164),n(165),n(166);i.a.render(Object(ue.jsx)(a.a.Fragment,{children:Object(ue.jsx)(gt,{})}),document.getElementById("root")),yt()},31:function(e,t,n){},36:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/square-purple-1.ed3a5e38.png"}},[[167,1,2]]]);
//# sourceMappingURL=main.2a6d79b5.chunk.js.map